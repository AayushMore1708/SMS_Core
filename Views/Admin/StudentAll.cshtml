@model IEnumerable<SMS_Core.Models.qryStudentAdmission>
@{
    /**/

    ViewBag.Title = "Student List";
    // Layout = null;
}

<div id="partialPlaceHolder1" class="col-sm-12">
    <div style="font-size:12px;height:40px;vertical-align:top;margin-left:10px;">
        @if (ViewBag.Desg != "Student" && ViewBag.Desg != "Employee")
        {
            <text>
                <img src="~/_imgs/grid/Add_16_New.png" />&nbsp;&nbsp; @Html.ActionLink("NEW", "RegisterStudent", "Account", "", new { target = "new" })&nbsp;&nbsp;&nbsp;&nbsp;
            </text>

            <text>
            </text>
        }

    </div>
    <div class="panel-heading">
        <h4>
            Student List
        </h4>
    </div>
    <div class="panel-body">
        <div class="table-responsive">
            <table style="width:100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                <thead class="text-info">
                    <tr class="text-info">
                        <th class="text-left">Action</th>
                        <th class="text-left">
                            GR No
                        </th>
                        <th class="text-left">
                            GR Type
                        </th>
                        <th class="text-left">
                            Acadamic Year
                        </th>
                        <th class="text-left">
                            Student Name
                        </th>
                        <th class="text-left">
                            Mother Name
                        </th>
                        <th class="text-left">
                            Student SARAL ID
                        </th>
                        <th class="text-left">
                            Aadhar Card
                        </th>
                        <th class="text-left">
                            Nationality
                        </th>
                        <th class="text-left">
                            Mother Tongue
                        </th>
                        <th class="text-left">
                            Religion
                        </th>
                        <th class="text-left">
                            Caste / Sub Caste
                        </th>
                        <th class="text-left">
                            Place of Birth
                        </th>
                        <th class="text-left">
                            Taluka
                        </th>
                        <th class="text-left">
                            District
                        </th>
                        <th class="text-left">
                            State
                        </th>
                        <th class="text-left">
                            Country
                        </th>
                        <th class="text-left">
                            Date of Birth
                        </th>
                        <th class="text-left">
                            Last School Attended with STD & Udise
                        </th>
                        <th class="text-left">
                            Date of Admission
                        </th>
                        <th class="text-left">
                            Std & Div which admitted
                        </th>

                        <th class="text-left">
                            LC No
                        </th>
                        <th class="text-left">
                            Institute Name
                        </th>
                        <th class="text-left">
                            UserName
                        </th>
                        <th class="text-left">
                            Student Photo
                        </th>
                        <th class="text-left">
                            Aadhar Card
                        </th>
                        <th class="text-left">
                            Admission Form
                        </th>
                        <th class="text-left">
                            Birth or Leaving Certificate
                        </th>
                        <th class="text-left">
                            Caste Certificate
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                <div class="btn-group">
                                    <button style="background-color:darkorange" data-toggle="dropdown" class="btn dropdown-toggle">
                                        Details <span class="caret"></span>
                                    </button>
                                    @if (ViewBag.Desg != "Student" && ViewBag.Desg != "Employee")
                                    {
                                        <text>
                                            <ul class="dropdown-menu">
                                                <li>@Html.ActionLink("General Register Details", "EditRegisterStudent", "Account", new { studentid = item.AspNetUserID, id = item.AspNetUserID, ida = item.StudentAdmissionId }, new { target = "new" })</li>
                                                <li>@Html.ActionLink("Upgrade", "UpgradeRegisterStudent", "Account", new { id = item.AspNetUserID }, new { studentid = item.AspNetUserID })</li>
                                                <li>@Html.ActionLink("LC View", "ViewGeneralPdf", "Account", new { id = item.AspNetUserID, ida = item.StudentAdmissionId, inst = item.StudentInstitution }, new { target = "new" })</li>
                                                <li>@Html.ActionLink("ICard", "IcardPrint", "Home", "", new { target = "new" })</li>
                                                <li>@Html.ActionLink("Bonafide Certificate", "ViewGeneralBoPdf", "Account", new { id = item.AspNetUserID }, new { target = "new" })</li>
                                            </ul>
                                        </text>
                                    }
                                </div>
                            </td>

                            <td>
                                <b> @Html.DisplayFor(modelItem => item.GeneralRegisterNO) </b>&nbsp;
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.GRType)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentAcadamicYear)&nbsp;
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.StudentName)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentMotherName)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentSARALID)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentAadharNumber)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentNationality)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentMotherTongue)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentReligion)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentCaste)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentBirthPlace)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentTaluka)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentDistrict)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentState)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentCountry)&nbsp;
                            </td>
                            <td>
                                @if (item.StudentDOB != null)
                                {
                                    @item.StudentDOB.Value.ToString("dd/MM/yyyy", System.Globalization.CultureInfo.GetCultureInfo("in-IN"));
                                }
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentPreviousSchoolName)&nbsp;
                            </td>
                            <td>
                                @if (item.StudentAdmissionDate != null)
                                {
                                    @item.StudentAdmissionDate.Value.ToString("dd/MM/yyyy", System.Globalization.CultureInfo.GetCultureInfo("in-IN"));
                                }
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.StudenntCourse)&nbsp;-&nbsp;@Html.DisplayFor(modelItem => item.StudentBatch)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.StudentLCNo)&nbsp;
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentInstitution)&nbsp;
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.UserName)&nbsp;
                            </td>
                            <td>
                                <img src="~/Content/Upload/@item.StudentPhoto" width="100" height="100" />
                                @Html.DisplayFor(modelItem => item.StudentPhoto)&nbsp;
                            </td>

                            <td>
                                <img src="~/Content/Upload/AadharCard/@item.AdharCardPhoto" width="100" height="100" />
                                @Html.DisplayFor(modelItem => item.AdharCardPhoto)&nbsp;
                            </td>

                            <td>
                                <img src="~/Content/Upload/Admission/@item.AdmissionFormPhoto" width="100" height="100" />
                                @Html.DisplayFor(modelItem => item.AdmissionFormPhoto)&nbsp;
                            </td>

                            <td>
                                <img src="~/Content/Upload/BirthLeaving/@item.BirthLeavingCertificatePhoto" width="100" height="100" />
                                @Html.DisplayFor(modelItem => item.BirthLeavingCertificatePhoto)&nbsp;
                            </td>

                            <td>
                                <img src="~/Content/Upload/CasteCertificate/@item.CasteCertificatePhoto" width="100" height="100" />
                                @Html.DisplayFor(modelItem => item.CasteCertificatePhoto)&nbsp;
                            </td>


                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <!--
                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        Student Details <div style="font-weight:800" id="abc"></div>
                                    </div>
                                    <div class="panel-body">
                                        <ul class="nav nav-tabs">
                                            <li class="active">
                                                <a href="#Home" data-toggle="tab"><b>Student Details </b></a>
                                            </li>
                                        </ul>

                                        <div class="tab-content">
                                            <div class="tab-pane fade in active" id="Home">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                                </div>
                            </div>
                        </div>
                    </div>
        -->

    </div>
</div>
<br />




<script type="text/javascript">
    $(document).ready(function () {

        $('#dataTables-example thead tr').clone(true).appendTo('#dataTables-example thead');
        $('#dataTables-example thead tr:eq(1) th').each(function (i) {
            if (i > 0) {
            var title = $(this).text();
            $(this).html('<input type="text"  />');

            $('input', this).on('keyup change', function () {
                if (table.column(i).search() !== this.value) {
                    table
                        .column(i)
                        .search(this.value)
                        .draw();
                }
            });
            }

        });

        var table = $('#dataTables-example').DataTable(
            {
                orderCellsTop: true,
                fixedHeader: true,
                "aaSorting":[],
//"iDisplayLength": -1

                searchDelay: 0
            });


    });

</script>
<script src="~/Content/js/jquery.dataTables.js"></script>
<script src="~/Content/js/dataTables.bootstrap.js"></script>


