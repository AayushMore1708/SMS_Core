

 

Type.registerNamespace("Mscrm"); Mscrm.INavigationStructureProvider = function () { }; Mscrm.INavigationStructureProvider.registerInterface("Mscrm.INavigationStructureProvider"); Mscrm.NavigationNodeType = function () { }; Mscrm.NavigationNodeType.prototype = { navigation: 0, entityQuickCreate: 1, activityCreate: 2 }; Mscrm.NavigationNodeType.registerEnum("Mscrm.NavigationNodeType", false); Mscrm.INavigateAction = function () { }; Mscrm.INavigateAction.registerInterface("Mscrm.INavigateAction"); Mscrm.INavigateActionProvider = function () { }; Mscrm.INavigateActionProvider.registerInterface("Mscrm.INavigateActionProvider"); Mscrm.IBuilder = function () { }; Mscrm.IBuilder.registerInterface("Mscrm.IBuilder"); Mscrm.IBuilderProvider = function () { }; Mscrm.IBuilderProvider.registerInterface("Mscrm.IBuilderProvider"); Mscrm.IControlContainer = function () { }; Mscrm.IControlContainer.registerInterface("Mscrm.IControlContainer"); Mscrm.IControlContainerFactory = function () { }; Mscrm.IControlContainerFactory.registerInterface("Mscrm.IControlContainerFactory"); Mscrm.IContainerAnimation = function () { }; Mscrm.IContainerAnimation.registerInterface("Mscrm.IContainerAnimation"); Mscrm.INavStatusBarAnimationStrategy = function () { }; Mscrm.INavStatusBarAnimationStrategy.registerInterface("Mscrm.INavStatusBarAnimationStrategy"); Mscrm.BlockInputHandler = function () { }; Mscrm.BlockInputHandler.prototype = { $1N_0: 0, blockInputUntilFinished: function (operation) { if (IsNull(operation)) return; this.$1N_0++; var $$t_2 = this; operation.QueueUntilNotified(function ($p1_0) { $$t_2.$1N_0-- }) }, blockInputUntilFinishedAndDelay: function (operation, additionalDelay) { if (IsNull(operation)) return; this.$1N_0++; var $$t_3 = this; operation.QueueUntilNotified(function ($p1_0) { window.setTimeout(function () { $$t_3.$1N_0-- }, additionalDelay) }) }, isInputBlocked: function () { return this.$1N_0 > 0 } }; Mscrm.NavBarConstants = function () { }; Mscrm.ExecutionCompletedNotifier = function () { this.$x_0 = [] }; Mscrm.ExecutionCompletedNotifier.prototype = { $x_0: null, $2p_0: false, $2j_0: null, QueueUntilNotified: function (executionCompletedHandler) { if (IsNull(executionCompletedHandler)) throw Error.argumentNull("executionCompletedHandler"); this.$x_0.push(executionCompletedHandler); this.$2p_0 && this.NotifyCompleted(this.$2j_0) }, NotifyCompleted: function (result) { if (!IsNull(this.$x_0) && this.$x_0.length > 0) { var $v_0 = this.$x_0.pop(); while ($v_0) { $v_0(result); $v_0 = this.$x_0.pop() } } Array.clear(this.$x_0); this.$2j_0 = result; this.$2p_0 = true } }; Mscrm.ModalOverlayDecorator = function ($p0, $p1) { if (IsNull($p0)) throw Error.argumentNull("dismissHandler"); if (isNullOrEmptyString($p1)) throw Error.argumentNull("overlayId"); this.$e_0 = $p0; this.$2E_0 = $p1 }; Mscrm.ModalOverlayDecorator.prototype = { $e_0: null, $2E_0: null, render: function ($p0, $p1) { var $v_0 = $p0.render($p1); if (!IsNull($v_0)) { var $$t_5 = this; $v_0.QueueUntilNotified(function ($p1_0) { var $v_1 = $P_CRM($$t_5.$2E_0); if ($v_1.css("display") === "none") { $v_1.show(); $v_1.bind("click", $$t_5.$e_0) } }) } return $v_0 }, hideOverlay: function () { var $v_0 = $P_CRM(this.$2E_0); if ($v_0.css("display") === "block") { $v_0.unbind("click", this.$e_0); $v_0.hide() } } }; Mscrm.ScrollInputHandler = function (containerId) { this.$$d_$5C_0 = Function.createDelegate(this, this.$5C_0); this.$$d_$5E_0 = Function.createDelegate(this, this.$5E_0); this.$$d_$3n_0 = Function.createDelegate(this, this.$3n_0); this.$$d_$5D_0 = Function.createDelegate(this, this.$5D_0); if (isNullOrEmptyString(containerId)) throw Error.argumentNull("containerId"); this.$16_0 = null; this.$1D_0 = null; this.$1B_0 = null; this.$1C_0 = null; this.$c_0 = "#" + containerId }; Mscrm.ScrollInputHandler.prototype = { $16_0: null, $1D_0: null, $1B_0: null, $1C_0: null, $c_0: null, $1s_0: 0, $1d_0: 0, attachScrollEventHandlers: function (handler) { if (IsNull(handler)) throw Error.argumentNull("handler"); this.detachScrollEventHandlers(); this.$16_0 = this.$42_0(handler); $P_CRM(this.$c_0).bind("onmousewheel mousewheel DOMMouseScroll", this.$16_0); this.$1D_0 = this.$45_0(handler); $P_CRM(this.$c_0).bind("touchstart MSPointerDown", this.$1D_0); this.$1B_0 = this.$44_0(handler); $P_CRM(this.$c_0).bind("touchend MSPointerUp", this.$1B_0); if (Mscrm.Utilities.isChrome()) { this.$1C_0 = this.$$d_$5D_0; $P_CRM(this.$c_0).bind("touchmove", this.$1C_0) } }, detachScrollEventHandlers: function () { if (!IsNull(this.$16_0)) { $P_CRM(this.$c_0).unbind("onmousewheel mousewheel DOMMouseScroll", this.$16_0); this.$16_0 = null } if (!IsNull(this.$1D_0)) { $P_CRM(this.$c_0).unbind("touchstart MSPointerDown", this.$1D_0); this.$1D_0 = null } if (!IsNull(this.$1B_0)) { $P_CRM(this.$c_0).unbind("touchend MSPointerUp", this.$1B_0); this.$1B_0 = null } if (!IsNull(this.$1C_0)) { $P_CRM(this.$c_0).unbind("touchmove", this.$1C_0); this.$1C_0 = null } }, $2T_0: function ($p0, $p1) { var $$t_3 = this; return function ($p1_0) { $p0($p1($p1_0)) } }, $42_0: function ($p0) { return this.$2T_0($p0, this.$$d_$3n_0) }, $45_0: function ($p0) { return this.$2T_0($p0, this.$$d_$5E_0) }, $44_0: function ($p0) { return this.$2T_0($p0, this.$$d_$5C_0) }, $3n_0: function ($p0) { if (IsNull($p0)) return 0; if (!IsNull($p0.wheelData)) return $p0.wheelData > 0 ? -1 : 1; if (!IsNull($p0.detail)) return $p0.detail > 0 ? 1 : -1; if (!IsNull($p0.originalEvent) && !IsNull($p0.originalEvent.wheelDelta)) return $p0.originalEvent.wheelDelta > 0 ? -1 : 1; if (!IsNull($p0.originalEvent) && !IsNull($p0.originalEvent.detail)) return $p0.originalEvent.detail > 0 ? 1 : -1; return 0 }, $5E_0: function ($p0) { if (IsNull($p0)) return 0; if (!IsNull($p0.originalEvent.touches)) this.$1s_0 = $p0.originalEvent.touches[0].pageX; else if (!IsNull($p0.originalEvent.pageX)) this.$1s_0 = $p0.originalEvent.pageX; return 0 }, $5C_0: function ($p0) { if (IsNull($p0)) return 0; if (!IsNull($p0.originalEvent.changedTouches)) this.$1d_0 = $p0.originalEvent.changedTouches[0].pageX; else if (!IsNull($p0.originalEvent.pageX)) this.$1d_0 = $p0.originalEvent.pageX; if (this.$1d_0 < this.$1s_0) return 1; else if (this.$1d_0 > this.$1s_0) return -1; return 0 }, $5D_0: function ($p0) { !IsNull($p0) && $p0.preventDefault() } }; Mscrm.NavBar = function ($p0) { this.$$d_$F_3 = Function.createDelegate(this, this.$F_3); this.$$d_$4Z_3 = Function.createDelegate(this, this.$4Z_3); this.$$d_$5J_3 = Function.createDelegate(this, this.$5J_3); this.$$d_$57_3 = Function.createDelegate(this, this.$57_3); this.$$d_$52_3 = Function.createDelegate(this, this.$52_3); this.$$d_$54_3 = Function.createDelegate(this, this.$54_3); this.$$d_$56_3 = Function.createDelegate(this, this.$56_3); this.$$d_$55_3 = Function.createDelegate(this, this.$55_3); this.$$d_$3k_3 = Function.createDelegate(this, this.$3k_3); this.$$d_$4i_3 = Function.createDelegate(this, this.$4i_3); this.$$d_$53_3 = Function.createDelegate(this, this.$53_3); this.$$d_$5I_3 = Function.createDelegate(this, this.$5I_3); this.$$d_$4M_3 = Function.createDelegate(this, this.$4M_3); this.$$d_$5B_3 = Function.createDelegate(this, this.$5B_3); this.$$d_$50_3 = Function.createDelegate(this, this.$50_3); this.$$d_$5A_3 = Function.createDelegate(this, this.$5A_3); this.$$d_$4C_3 = Function.createDelegate(this, this.$4C_3); this.$$d_$4l_3 = Function.createDelegate(this, this.$4l_3); this.$$d_$4r_3 = Function.createDelegate(this, this.$4r_3); this.$$d_$4U_3 = Function.createDelegate(this, this.$4U_3); this.$$d_$4v_3 = Function.createDelegate(this, this.$4v_3); this.$$d_$4u_3 = Function.createDelegate(this, this.$4u_3); this.$$d_$4X_3 = Function.createDelegate(this, this.$4X_3); this.$1K_3 = -1; this.GetNavigationStructure = this.getNavigationStructure; Mscrm.NavBar.initializeBase(this, [$p0]); if (this.$3c_3()) this.get_element().style.display = "none"; this.$4_3 = new Mscrm.BlockInputHandler; Mscrm.Utilities.addControlMarker(this.get_element().id, "NavBarInit", "StartConstructorTimestamp", (new Date).getTime().toString()); var $v_0 = {}; $v_0["NavigateToPageAction"] = new Mscrm.NavigateToPageActionProvider(this); $v_0["TestNavigateAction"] = new Mscrm.TestNavigateActionProvider; $v_0["ScriptAction"] = new Mscrm.RecordSiteMapActionProvider(this); $v_0["MruAction"] = new Mscrm.MruActionProvider(this); var $v_1 = new Mscrm.NavStatus("#navStatusArea", new Mscrm.NavStatusBarAnimationStrategy); $v_0["GlobalQuickCreateAction"] = new Mscrm.GlobalQuickCreateActionProvider($v_1, this); this.$29_3 = $p0.id; this.$28_3 = "navigationControl"; if (window.IS_SANDBOX_ORG) this.$28_3 = "navigationControl sandbox"; if (Mscrm.NavBar.$3V() || this.$58_3()) this.$9_3 = new Mscrm.TabControlOutlook($p0.id, this.$1w_3(), this.$3I_3(), this.$$d_$4X_3); else this.$9_3 = new Mscrm.TabControl($p0.id, this.$1w_3(), this.$3I_3(), this.$$d_$4X_3); var $v_2 = new Mscrm.FlyoutControlContainerFactory($p0.parentNode.id, "navActionGroupContainer", new Mscrm.JQueryContainerAnimation, this.$$d_$4u_3, this.$$d_$4v_3), $v_3 = new Mscrm.FlyoutControlContainerFactory($p0.parentNode.id, "navActionListContainer", new Mscrm.JQueryContainerAnimation, this.$$d_$4u_3, this.$$d_$4v_3), $v_4 = new Mscrm.FlyoutControlContainerFactory($p0.parentNode.id, "navActionGroupContainer", new Mscrm.JQueryContainerAnimation, this.$$d_$4u_3, this.$$d_$4v_3), $v_5 = new Mscrm.FlyoutControlContainerFactory($p0.parentNode.id, "navUserInfoDropDownMenuContainer", new Mscrm.JQueryContainerAnimation, null, null), $v_6 = new Mscrm.FlyoutControlContainerFactory($p0.parentNode.id, "navSettingsDropDownMenuContainer", new Mscrm.JQueryContainerAnimation, null, null); this.$S_3 = new Mscrm.ActionGroupControl("actionGroupControl", $v_2); this.$V_3 = new Mscrm.ActionListControl("firstTabActionListFlyoutControl", $v_3); this.$a_3 = new Mscrm.ActionListControl("secondTabActionListFlyoutControl", $v_4); this.$1t_3 = new Mscrm.DropDownMenuControlUserInfo($v_5, this.$1w_3()); this.$1o_3 = new Mscrm.DropDownMenuControlSettings($v_6, this.$1w_3()); this.$H_3 = new Mscrm.NavigationTree(this); this.$2t_3 = new Mscrm.NavigationNodeActionFactory($v_0); this.$j_3 = null; this.$S_3.add_hiding(this.$$d_$4U_3); var $v_7 = new Mscrm.HeaderGroupBuilderProvider(Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_MRU_CAPTION_NAVBAR"), new Mscrm.SmallActionsBuilderProvider(this.$2S_3())); this.$V_3.$u_0 = $v_7; this.$a_3.add_hiding(this.$$d_$4U_3); this.$a_3.$u_0 = $v_7; this.$1t_3.add_hiding(this.$$d_$4U_3); this.$1o_3.add_hiding(this.$$d_$4U_3); this.$A_3 = new Array(0); this.$A_3[0] = this.$$d_$4r_3; this.$A_3[1] = this.$$d_$4l_3; this.$A_3[2] = this.$$d_$4C_3; this.$A_3[3] = this.$$d_$5A_3; this.$A_3[4] = this.$$d_$50_3; this.$A_3[5] = this.$$d_$5A_3; this.$A_3[6] = this.$$d_$5B_3; this.$A_3[7] = this.$$d_$4M_3; this.$A_3[8] = this.$$d_$5I_3; this.$A_3[9] = this.$$d_$53_3; this.$A_3[10] = this.$$d_$4i_3; this.$A_3[11] = this.$$d_$3k_3; this.$A_3[12] = this.$$d_$55_3; this.$A_3[13] = this.$$d_$56_3; this.$A_3[16] = this.$$d_$54_3; this.$A_3[14] = this.$$d_$52_3; this.$A_3[17] = this.$$d_$57_3; this.$A_3[15] = this.$$d_$5J_3; this.$15_3 = new Mscrm.ModalOverlayDecorator(this.$$d_$4u_3, "#navBarOverlay"); Mscrm.Utilities.addControlMarker(this.get_element().id, "NavBarInit", "FinishConstructorTimestamp", (new Date).getTime().toString()) }; Mscrm.NavBar.$3V = function () { return Mscrm.SessionInfo.isOutlookClient() }; Mscrm.NavBar.$3J = function ($p0, $p1, $p2) { return Mscrm.NavBar.$2U($p0.Id, $p1.Id, $p2.Id) }; Mscrm.NavBar.$2U = function ($p0, $p1, $p2) { return String.format("{0}|{1}|{2}", $p0, $p1, $p2) }; Mscrm.NavBar.$N = function ($p0) { return $p0 + "_Action" }; Mscrm.NavBar.$5H = function ($p0, $p1) { if (IsNull($p0.Action)) $p0.Action = {}; $p0.Action["ActionType"] = "NavigateToPageAction"; Mscrm.NavBar.$21($p0, $p1) }; Mscrm.NavBar.$1z = function ($p0) { var $v_0 = Mscrm.NavBar.$3M($p0); return !isNullOrEmptyString($v_0) }; Mscrm.NavBar.$3M = function ($p0) { var $v_0 = Mscrm.NavBar.$2V($p0, "EntityName"); if (IsNull($v_0)) return ""; return $v_0 }; Mscrm.NavBar.getEntityTypeCode = function (node) { return Mscrm.NavBar.$2V(node, "EntityTypeCode") }; Mscrm.NavBar.$1V = function ($p0) { var $v_0 = Mscrm.NavBar.$2V($p0, "PageUrl"); if (IsNull($v_0)) return ""; return $v_0 }; Mscrm.NavBar.$21 = function ($p0, $p1) { Mscrm.NavBar.$51($p0, "PageUrl", $p1) }; Mscrm.NavBar.$2V = function ($p0, $p1) { if (IsNull($p0) || IsNull($p0.Action)) return null; return $p0.Action[$p1] }; Mscrm.NavBar.$51 = function ($p0, $p1, $p2) { if (IsNull($p0)) return; if (IsNull($p0.Action)) $p0.Action = {}; $p0.Action[$p1] = $p2 }; Mscrm.NavBar.prototype = {
    $29_3: null, $28_3: null, $15_3: null, $1M_3: null, $9_3: null, $S_3: null, $V_3: null, $a_3: null, $1t_3: null, $1o_3: null, $H_3: null, $2t_3: null, $j_3: null, $K_3: null, $G_3: null, $b_3: null, $T_3: null, $39_3: false, $A_3: null, $6_3: null, $2c_3: null, $2L_3: null, $P_3: null, $4_3: null, $1J_3: null, $s_3: null, $w_3: null, $h_3: null, $i_3: null, $n_3: null, $1p_3: null, $1n_3: null, $25_3: false, $f_3: null, navBarStatus: null, get_disableHoverFlyOut: function () { return this.$25_3 }, set_disableHoverFlyOut: function (value) { this.$25_3 = value; return value }, get_siteMap: function () { return this.$2L_3 }, set_siteMap: function (value) { this.$2L_3 = value; return value }, get_homeNode: function () { return this.$P_3 }, set_homeNode: function (value) { this.$P_3 = value; return value }, get_globalQuickCreateItems: function () { return this.$1J_3 }, set_globalQuickCreateItems: function (value) { this.$1J_3 = value; return value }, get_currentUserName: function () { return this.$w_3 }, set_currentUserName: function (value) { this.$w_3 = CrmEncodeDecode.CrmHtmlEncode(value); return value }, get_organizationFriendlyName: function () { return this.$h_3 }, set_organizationFriendlyName: function (value) { this.$h_3 = CrmEncodeDecode.CrmHtmlEncode(value); return value }, get_organizationUniqueName: function () { return this.$i_3 }, set_organizationUniqueName: function (value) { this.$i_3 = CrmEncodeDecode.CrmHtmlEncode(value); return value }, get_currentUserProfileImageUrl: function () { return this.$n_3 },
    set_currentUserProfileImageUrl:
        function (value)
        { this.$n_3 = value; return value },

    get_settingsOptionsNode: function () { //return this.$1p_3
    },
     set_settingsOptionsNode: function (value) { this.$1p_3 = ''; return value 
    },
    get_settingsAboutNode: function () { return this.$1n_3 },
    set_settingsAboutNode: function (value) { this.$1n_3 = value; return value },

    get_activities: function () { return this.$s_3 }, set_activities: function (value) { this.$s_3 = value; return value }, initialize: function () { Mscrm.Utilities.addControlMarker(this.get_element().id, "NavBarInit", "StartInitializeTimestamp", (new Date).getTime().toString()); Mscrm.CrmUIControl.prototype.initialize.call(this); Mscrm.Utilities.addControlMarker(this.get_element().id, "NavBarInit", "FinishInitializeTimestamp", (new Date).getTime().toString()); Mscrm.Utilities.addControlMarker(this.get_element().id, "NavBarInit", "StartRenderTimestamp", (new Date).getTime().toString()); this.Render(); Mscrm.Utilities.addControlMarker(this.get_element().id, "NavBarInit", "FinishRenderTimestamp", (new Date).getTime().toString()); $addHandler(document, "keydown", this.$$d_$4Z_3) }, dispose: function () { if (this.get_isDisposed()) return; $removeHandler(document, "keydown", this.$$d_$4Z_3); Mscrm.CrmUIControl.prototype.dispose.call(this) }, Render: function () { var $v_0 = this.$H_3.updateNavigationStructure(), $$t_2 = this; $v_0.QueueUntilNotified(function ($p1_0) { $$t_2.$4o_3() }) }, $4o_3: function () { $P_CRM("#" + this.$29_3).attr("class", this.$28_3); this.$j_3 = null; this.$2X_3(null, null) }, getPath: function (nodeToFind) { if (IsNull(nodeToFind)) throw Error.argumentNull("nodeToFind"); for (var $v_0 = this.$H_3.getRootNode(), $v_1 = 0; $v_1 < $v_0.Children.length; $v_1++) for (var $v_2 = $v_0.Children[$v_1], $v_3 = 0; $v_3 < $v_2.Children.length; $v_3++) { var $v_4 = $v_2.Children[$v_3]; if ($v_4.Id !== nodeToFind.ParentId) continue; for (var $v_5 = 0; $v_5 < $v_4.Children.length; $v_5++) { var $v_6 = $v_4.Children[$v_5]; if ($v_6 === nodeToFind) return Mscrm.NavBar.$3J($v_2, $v_4, $v_6) } } return "" }, $4p_3: function () { return window.IS_LIVE }, $2X_3: function ($p0, $p1) { this.$b_3 = null; this.$K_3 = $p0; this.$G_3 = $p1; this.$2W_3() }, $2W_3: function () { var $v_0 = this.$H_3.getRootNode(); this.$9_3.$Z_0 = $v_0; this.$9_3.$P_0 = this.$P_3; this.$6_3 = new Array(0); this.$6_3[0] = $v_0.Id; this.$6_3[1] = Mscrm.NavBar.$N(this.$P_3.Id); this.$6_3[2] = ""; this.$6_3[3] = ""; this.$6_3[4] = ""; this.$6_3[5] = ""; this.$6_3[6] = ""; this.$6_3[7] = !IsNull(this.$1J_3) ? this.$1J_3.Id : ""; if (!IsNull(this.$K_3)) { this.$9_3.$t_0 = this.$K_3; this.$6_3[2] = this.$K_3.Id } if (!IsNull(this.$K_3) && !IsNull(this.$G_3)) { this.$9_3.$M_0 = this.$G_3; this.$6_3[3] = Mscrm.NavBar.$N(this.$G_3.Id); this.$6_3[4] = this.$G_3.Id } if (this.$39_3 && !IsNull(this.$b_3)) { this.$9_3.$I_0 = this.$b_3; this.$6_3[5] = Mscrm.NavBar.$N(this.$b_3.Id); this.$6_3[6] = this.$b_3.Id } else this.$9_3.$I_0 = null; this.$9_3.$z_0 = this.$1J_3; var $v_1 = this.$H_3.cloneNode($v_0); $v_1.Id = "TabUserInfoId"; this.$9_3.$k_0 = $v_1; this.$6_3[8] = $v_1.Id; this.$9_3.$w_0 = this.get_currentUserName(); this.$9_3.$h_0 = this.get_organizationFriendlyName(); this.$9_3.$i_0 = this.get_organizationUniqueName(); this.$9_3.$n_0 = this.$n_3; var $v_2 = this.$H_3.cloneNode($v_0); $v_2.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_SETTINGS_NAVBAR"); $v_2.Id = "TabButtonSettingsId"; this.$9_3.$1A_0 = $v_2; this.$6_3[9] = $v_2.Id; var $v_3 = this.$H_3.cloneNode($v_0); $v_3.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_HELP_NAVBAR"); $v_3.Id = "TabButtonHelpId"; this.$9_3.$W_0 = $v_3; this.$6_3[10] = Mscrm.NavBar.$N($v_3.Id); var $v_4 = this.$H_3.cloneNode($v_0); $v_4.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_PRINTPREVIEW_NAVBAR"); $v_4.Id = "navTabButtonSettingsPrintPreviewId"; var $v_5 = this.$H_3.cloneNode($v_0); $v_5.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_SETTINGSNAVTOUR_NAVBAR"); $v_5.Id = "navTabButtonSettingsNavTourId"; var $v_6 = this.$H_3.cloneNode($v_0); $v_6.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_SETTINGSPRIVACY_NAVBAR"); $v_6.Id = "NodeSettingsPrivacyStatementId"; var $v_7 = []; $v_7[0] = this.$1p_3; $v_7[1] = $v_4; $v_7[2] = $v_5; $v_7[3] = this.$1n_3; $v_7[4] = $v_6; $v_2.Children = $v_7; this.$6_3[12] = Mscrm.NavBar.$N(this.$1p_3.Id); this.$6_3[13] = Mscrm.NavBar.$N($v_4.Id); this.$6_3[16] = Mscrm.NavBar.$N($v_5.Id); this.$6_3[14] = Mscrm.NavBar.$N(this.$1n_3.Id); this.$6_3[17] = Mscrm.NavBar.$N($v_6.Id); var $v_8 = this.$H_3.cloneNode($v_0); $v_8.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_USERINFOSIGNOUT_NAVBAR"); $v_8.Id = "navTabButtonUserInfoSignOutId"; var $v_9 = []; $v_9[0] = $v_8; $v_1.Children = $v_9; this.$6_3[15] = Mscrm.NavBar.$N($v_8.Id); this.$T_3 = this.$H_3.cloneNode($v_0); this.$T_3.Caption = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_BACK_NAVBAR"); this.$T_3.Id = Mscrm.NavBar.$N("TabBack"); this.$6_3[11] = Mscrm.NavBar.$N(this.$T_3.Id); this.$9_3.$T_0 = this.$T_3; this.$4_3.blockInputUntilFinished(this.$9_3.render()); if (this.$3c_3()) this.get_element().style.display = "none" }, $3c_3: function () { if (!isNullOrEmptyString(this.navBarStatus)) return this.navBarStatus.toLocaleLowerCase() === Mscrm.NavBarStatusConstant.off; else { var $v_0 = this.$3R_3("navbar"); if (!isNullOrEmptyString($v_0)) return $v_0.toLocaleLowerCase() === Mscrm.NavBarStatusConstant.off } return false }, $58_3: function () { if (!isNullOrEmptyString(this.navBarStatus)) return this.navBarStatus.toLocaleLowerCase() === Mscrm.NavBarStatusConstant.entity; else { var $v_0 = this.$3R_3("navbar"); if (!isNullOrEmptyString($v_0)) return $v_0.toLocaleLowerCase() === Mscrm.NavBarStatusConstant.entity } return false }, $3R_3: function ($p0) { if (isNullOrEmptyString($p0)) return null; var $v_0 = window.location.search; if (isNullOrEmptyString($v_0)) return null; else { var $v_1 = Mscrm.CrmUri.create($v_0); if ($p0 in $v_1.get_query()) return $v_1.get_query()[$p0]; else if ("extraqs" in $v_1.get_query()) { var $v_2 = $v_1.get_query()["extraqs"]; if (!$v_2.startsWith("?")) $v_2 = "?" + $v_2; $v_1 = Mscrm.CrmUri.create($v_2); if ($p0 in $v_1.get_query()) return $v_1.get_query()[$p0] } } return null }, $2a_3: function ($p0) { if (isNullOrEmptyString($p0)) return; var $v_0 = Mscrm.CrmUri.create($p0), $v_1 = $v_0.get_query()["sitemappath"]; if ("newWindow" in $v_0.get_query()) delete $v_0.get_query().newWindow; var $v_2 = $v_0.toString(); if (!isNullOrEmptyString($v_1)) for (var $v_3 = this.$H_3.getRootNode(), $v_4 = 0; $v_4 < $v_3.Children.length; $v_4++) for (var $v_5 = $v_3.Children[$v_4], $v_6 = 0; $v_6 < $v_5.Children.length; $v_6++) for (var $v_7 = $v_5.Children[$v_6], $v_8 = 0; $v_8 < $v_7.Children.length; $v_8++) { var $v_9 = $v_7.Children[$v_8], $v_A = Mscrm.NavBar.$3J($v_5, $v_7, $v_9); if ($v_A === $v_1) { Mscrm.NavBar.$5H($v_5, $v_2); this.$2X_3($v_5, $v_9); return } } if (!isNullOrEmptyString(this.$1M_3)) { var $v_B = this.$1M_3; this.$1M_3 = null; $v_0 = Mscrm.CrmUri.create($v_B); $v_1 = $v_0.get_query()["sitemappath"]; if (isNullOrEmptyString($v_1) && $v_B.indexOf("sitemappath") > 0) { var $v_C = $v_B.indexOf("?"); if ($v_C < 0) return; $v_B = $v_B.substring($v_C, $v_B.length); $v_B = "dummy/dummy" + $v_B } this.$2a_3($v_B) } }, $20_3: function ($p0, $p1) { if (IsNull($p0)) throw Error.argumentNull("navigationNode"); this.$S_3.$u_0 = $p1; var $v_0 = this.$3X_3($p0); this.$2c_3 = this.$15_3.render(this.$S_3, $v_0); this.$4_3.blockInputUntilFinishedAndDelay(this.$2c_3, 200); this.$4R_3(this.$S_3) }, $3a_3: function ($p0, $p1) { if (IsNull($p0)) throw Error.argumentNull("navigationNode"); if (IsNull($p1)) throw Error.argumentNull("actionListControl"); var $v_0 = this.$3X_3($p0), $v_1 = this.$15_3.render($p1, $v_0); this.$4_3.blockInputUntilFinishedAndDelay($v_1, 200); this.$4S_3($p1) }, $4R_3: function ($p0) { if (IsNull(this.$j_3)) { $p0.unselectNodes(); return } var $v_0 = this.$H_3.getAncestorsById(this.$j_3.Id); if ($v_0.length < 2) { $p0.unselectNodes(); return } var $v_1 = $v_0[1]; $p0.selectNode($v_1) }, $4S_3: function ($p0) { if (IsNull(this.$j_3)) { $p0.unselectNodes(); return } $p0.selectNode(this.$j_3) }, $3X_3: function ($p0) { var $v_0 = []; if (IsNull($p0)) return $v_0; if (IsNull($p0.Children)) return $v_0; $v_0 = $p0.Children; return $v_0 }, $1w_3: function () { var $$t_2 = this; return function ($p1_0) { if ($$t_2.$4_3.isInputBlocked()) return null; if (IsNull($p1_0)) return null; if ($p1_0.Id === $$t_2.$9_3.getSelectedNode()) { $$t_2.$F_3(); $$t_2.$1E_3(); return null } var $v_0 = $$t_2.$3P_3(Mscrm.NavBar.$N($p1_0.Id)); $v_0 >= 0 && $v_0 < $$t_2.$A_3.length && $$t_2.$A_3[$v_0]($p1_0); return null } }, $3I_3: function () { var $$t_2 = this; return function ($p1_0) { if ($$t_2.$4_3.isInputBlocked()) return null; if (IsNull($p1_0)) return null; if ($p1_0.Id === $$t_2.$9_3.getSelectedNode()) { $$t_2.$F_3(); return null } var $v_0 = $$t_2.$3P_3($p1_0.Id); $v_0 >= 0 && $v_0 < $$t_2.$A_3.length && $$t_2.$A_3[$v_0]($p1_0); $$t_2.$9_3.selectNode($p1_0); return null } }, $3P_3: function ($p0) { for (var $v_0 = 0; $v_0 < this.$6_3.length; $v_0++) { var $v_1 = this.$6_3[$v_0]; if ($p0 === $v_1) return $v_0 } return -1 }, $41_3: function () { var $$t_1 = this; return function ($p1_0) { if (IsNull($p1_0)) return null; $$t_1.$F_3(); $$t_1.$49_3($p1_0); $$t_1.$j_3 = $p1_0; return null } }, $40_3: function () { var $$t_1 = this; return function ($p1_0) { if (IsNull($p1_0)) return null; $$t_1.$4j_3(); $$t_1.$F_3(); $$t_1.$p_3($p1_0); return null } }, $49_3: function ($p0) { if (isNullOrEmptyString(Mscrm.NavBar.$1V($p0))) this.$4A_3($p0); else this.$p_3($p0) }, $4A_3: function ($p0) { for (var $v_0 = 0; $v_0 < $p0.Children.length; $v_0++) for (var $v_1 = $p0.Children[$v_0], $v_2 = 0; $v_2 < $v_1.Children.length; $v_2++) { var $v_3 = $v_1.Children[$v_2]; if (!IsNull($v_3.Action)) { this.$p_3($v_3); return } } }, $2S_3: function () { var $$t_1 = this; return function ($p1_0) { if (IsNull($p1_0)) return null; Mscrm.Utilities.addControlMarker($$t_1.get_element().id, Mscrm.NavBar.$17, Mscrm.NavBar.$18, (new Date).getTime().toString()); $$t_1.$F_3(); $$t_1.$p_3($p1_0); $$t_1.$j_3 = $p1_0; return null } }, $3x_3: function () { var $$t_1 = this; return function ($p1_0) { if ($$t_1.$4_3.isInputBlocked()) return null; if (IsNull($p1_0)) return null; if ($p1_0.Id === $$t_1.$S_3.getSelectedNode()) { $$t_1.$V_3.hide(); $$t_1.$S_3.unselectNodes(); return null } if (Mscrm.NavBar.$1z($p1_0)) { $$t_1.$3f_3($p1_0); $$t_1.$3a_3($p1_0, $$t_1.$V_3); $$t_1.$S_3.selectNode($p1_0) } return null } }, $4l_3: function ($p0) { if (this.$4_3.isInputBlocked()) return; this.$F_3(); this.$1E_3(); this.$p_3($p0) }, $4M_3: function ($p0) { if (this.$4_3.isInputBlocked()) return; this.$4_3.blockInputUntilFinished(this.$V_3.hide()); this.$4_3.blockInputUntilFinished(this.$a_3.hide()); this.$1W_3(); this.$20_3($p0, new Mscrm.GroupedActionsBuilderProvider(new Mscrm.ActionsBuilderProvider(this.$40_3()))) }, $4r_3: function ($p0) { if (this.$4_3.isInputBlocked()) return; this.$4_3.blockInputUntilFinished(this.$V_3.hide()); this.$4_3.blockInputUntilFinished(this.$a_3.hide()); this.$1W_3(); this.$1E_3(); var $v_0 = new Mscrm.HeaderGroupBuilderProvider("", new Mscrm.ModuleActionsBuilderProvider(this.$41_3())); this.$20_3($p0, $v_0) }, $4C_3: function ($p0) { if (this.$4_3.isInputBlocked()) return; this.$4_3.blockInputUntilFinished(this.$V_3.hide()); this.$4_3.blockInputUntilFinished(this.$a_3.hide()); this.$1W_3(); var $v_0 = new Mscrm.SplitActionsBuilderProvider(this.$2S_3(), this.$3x_3()); this.$20_3($p0, new Mscrm.GroupedActionsBuilderProvider($v_0)) }, $50_3: function ($p0) { if (this.$4_3.isInputBlocked()) return; this.$4_3.blockInputUntilFinished(this.$S_3.hide()); this.$4_3.blockInputUntilFinished(this.$V_3.hide()); this.$1W_3(); if (Mscrm.NavBar.$1z($p0)) { this.$3f_3($p0); this.$3a_3($p0, this.$a_3) } }, $3f_3: function ($p0) { $p0.Children = []; var $v_0 = Mscrm.NavBar.getEntityTypeCode($p0), $v_1 = Mscrm.NavBar.$3M($p0), $v_2 = {}; $v_2["maxRecords"] = 20; if ($v_0 === Mscrm.EntityTypeCode.ActivityPointer && !IsNull(this.$s_3)) { for (var $v_4 = new Array(this.$s_3.length), $v_5 = 0; $v_5 < this.$s_3.length; $v_5++) $v_4[$v_5] = parseInt(this.$s_3[$v_5].Id); $v_2["etcList"] = $v_4 } if ($v_1 === "Dashboard" && $v_0 === Mscrm.EntityTypeCode.SystemForm) { var $v_6 = [Mscrm.EntityTypeCode.SystemForm, Mscrm.EntityTypeCode.UserForm]; $v_2["etcList"] = $v_6 } else $v_2["etc"] = $v_0; var $v_3 = this.raiseEvent(Mscrm.ScriptEvents.RetrieveRecentData, $v_2); if (!IsNull($v_3) && isArray($v_3) && $v_3.length > 0) for (var $v_7 = $v_3[0], $v_8 = $v_7["recordList"], $v_9 = 0; $v_9 < $v_8.length; $v_9++) { var $v_A = $v_8[$v_9], $v_B = new Mscrm.NavigationNode; $v_B.Caption = CrmEncodeDecode.CrmHtmlEncode($v_A.Name); $v_B.Id = CrmEncodeDecode.CrmHtmlEncode($v_A.Id); if (String === Object.getType($v_A.TypeCode)) $v_A.TypeCode = Number.parseInvariant($v_A.TypeCode); $v_B.ImageUrl = this.$3y_3($v_A.TypeCode); if (isNullOrEmptyString($v_B.ImageUrl)) if (isNullOrEmptyString($p0.ImageUrl)) $v_B.ImageUrl = "/_imgs/NavBar/Invisible.gif"; else $v_B.ImageUrl = $p0.ImageUrl; if ($v_0.toString() === $v_A.TypeCode.toString()) $v_B.ColorAccent = $p0.ColorAccent; var $v_C = {}; $v_C["ActionType"] = "MruAction"; $v_C["EntityTypeCode"] = $v_A.TypeCode; $v_C["Action"] = $v_A.Action; $v_C["Id"] = $v_A.Id; $v_B.Action = $v_C; Array.add($p0.Children, $v_B) } }, $4w_3: function ($p0) { for (var $v_0 = this.$H_3.getRootNode(), $v_1 = 0; $v_1 < $v_0.Children.length; $v_1++) { var $v_2 = $v_0.Children[$v_1]; if ($v_2 !== this.$K_3) continue; for (var $v_3 = 0; $v_3 < $v_2.Children.length; $v_3++) for (var $v_4 = $v_2.Children[$v_3], $v_5 = 0; $v_5 < $v_4.Children.length; $v_5++) for (var $v_6 = $v_4.Children[$v_5], $v_7 = 0; $v_7 < $v_6.Children.length; $v_7++) if ($p0 === $v_6.Children[$v_7]) { this.$2X_3(this.$K_3, $v_6); return } } }, $5A_3: function ($p0) { this.$1E_3(); this.$F_3(); this.$p_3($p0) }, $5I_3: function ($p0) { if (this.$3d_3()) { this.$1E_3(); this.$F_3(); var $v_0 = []; $v_0[0] = $p0; var $v_1 = this.$15_3.render(this.$1t_3, $v_0); this.$4_3.blockInputUntilFinishedAndDelay($v_1, 200) } }, $53_3: function ($p0) { this.$1E_3(); this.$F_3(); var $v_0 = []; $v_0[0] = $p0; if (IsNull($p0.Action)) $p0.Action = {}; $p0.Action[Mscrm.NavBarSharedConstants.printPreviewAvailable] = this.$3W_3(Mscrm.ScriptEvents.PrintPreviewGrid) || this.$3W_3(Mscrm.ScriptEvents.PrintPreviewForm); var $v_1 = this.$15_3.render(this.$1o_3, $v_0); this.$4_3.blockInputUntilFinishedAndDelay($v_1, 200) }, $3W_3: function ($p0) { var $v_0 = {}; $v_0[Mscrm.NavBarSharedConstants.printPreviewAvailable] = true; var $v_1 = this.get_eventManager().raiseEvent($p0, $v_0, null); return this.$3T_3($v_1) }, $4i_3: function ($p0) { if (window.UseTabletExperience) Mscrm.Help.loadHelp(null); else { var $v_0 = window; $v_0 = $v_0.loadHelp; $v_0.apply() } }, $55_3: function ($p0) { this.$F_3(); if (IsNull($p0)) throw Error.argumentNull("navigationNode"); openStdDlg(Mscrm.CrmUri.create(Mscrm.NavBar.$1V($p0)), null, 978, 695) && Mscrm.Utilities.reloadPage() }, $56_3: function ($p0) { this.$F_3(); !this.$3T_3(this.get_eventManager().raiseEvent(Mscrm.ScriptEvents.PrintPreviewGrid, null, null)) && this.get_eventManager().raiseEvent(Mscrm.ScriptEvents.PrintPreviewForm, null, null) }, $3T_3: function ($p0) { if (IsNull($p0)) return false; for (var $v_0 = false, $v_1 = 0; $v_1 < $p0.length; $v_1++) { $v_0 = !!($v_0 | $p0[$v_1]); if (true === $v_0) break } return $v_0 }, $54_3: function ($p0) { this.$F_3(); Mscrm.InlineDialogUtility.createInlineDialog(Mscrm.CrmUri.create("/_forms/navtour/dlg_navtour.aspx"), null, 800, 550, Number.NaN, Number.NaN, Number.NaN) }, $57_3: function ($p0) { this.$F_3(); window.open(this.$48_3()) }, $48_3: function () { var $v_0, $v_1 = Mscrm.BuilderHelper.getResourceStringFromLOCID("IS_LIVE"); if ($v_1) $v_0 = "http://go.microsoft.com/fwlink/?LinkID=310140"; else $v_0 = "http://go.microsoft.com/fwlink/?LinkID=310141"; var $v_2 = Mscrm.BuilderHelper.getResourceStringFromLOCID("USER_LANGUAGE_CODE"); return this.$3i_3($v_0, $v_2) }, $3i_3: function ($p0, $p1) { var $v_0 = new Sys.StringBuilder($p0); $v_0.append("&clcid="); var $v_1 = "0x" + CrmEncodeDecode.CrmUrlEncode($p1.toString(16)); $v_0.append($v_1); return $v_0.toString() }, $52_3: function ($p0) { this.$F_3(); if (IsNull($p0)) throw Error.argumentNull("navigationNode"); openStdDlg(Mscrm.CrmUri.create(Mscrm.NavBar.$1V($p0)), null, 570, 570) && Mscrm.Utilities.reloadPage() }, $3d_3: function () { return this.$4p_3() || window.IS_SPLA || window.IS_CLAIMS }, $5J_3: function ($p0) { if (this.$3d_3()) { this.$F_3(); this.raiseEvent(Mscrm.ScriptEvents.SignOut, null) } }, $3k_3: function ($p0) { this.$F_3(); this.raiseEvent(Mscrm.ScriptEvents.NavigateBack, null) }, $5B_3: function ($p0) { this.$V_3.hide(); this.$a_3.hide(); this.$20_3($p0, new Mscrm.GroupedActionsBuilderProvider(new Mscrm.ActionsBuilderProvider(this.$2S_3()))) }, handleEvent: function (eventCode, parameters, sourceComponent) { var $v_0 = Mscrm.CrmUIControl.prototype.handleEvent.call(this, eventCode, parameters, sourceComponent); switch (eventCode) { case Mscrm.ScriptEvents.WindowResize: this.$4h_3(); break; case Mscrm.ScriptEvents.Navigate: this.$4a_3(parameters); break; case Mscrm.ScriptEvents.PageLoaded: this.$4b_3(parameters); break; case Mscrm.ScriptEvents.GetSelectedAreaSubAreaIds: $v_0 = this.$4W_3(); break; case Mscrm.ScriptEvents.UpdateViewUrl: this.$4f_3(parameters); break; case Mscrm.ScriptEvents.UpdateVisualizationUrl: case Mscrm.ScriptEvents.UpdateDashboardsUrl: this.$4g_3(parameters); break; case Mscrm.ScriptEvents.RecordSiteMapAvailable: this.$4c_3(parameters); break; case Mscrm.ScriptEvents.FormTitleUpdated: this.$4V_3(parameters); break; case Mscrm.ScriptEvents.IFrameReactivated: this.$4Y_3(parameters); break; case Mscrm.ScriptEvents.SiteMapSetFocusOnFirstItem: this.$4d_3(); break; case Mscrm.ScriptEvents.AppNavGoTo: var $v_1 = this.$4B_3(parameters["areaId"], parameters["subAreaId"]); this.$p_3($v_1); break } return $v_0 }, raiseNavigateRequest: function (parameters) { this.$1M_3 = parameters["uri"]; return this.get_eventManager().raiseEvent(Mscrm.ScriptEvents.NavigateRequest, parameters, null) }, $4B_3: function ($p0, $p1) { for (var $v_0 = this.$H_3.getRootNode(), $v_1 = null, $v_2 = 0; $v_2 < $v_0.Children.length; $v_2++) { var $v_3 = $v_0.Children[$v_2]; if ($v_3.Id === $p0) { $v_1 = $v_3; break } } if ($v_1) for (var $v_4 = 0; $v_4 < $v_1.Children.length; $v_4++) for (var $v_5 = $v_1.Children[$v_4], $v_6 = 0; $v_6 < $v_5.Children.length; $v_6++) { var $v_7 = $v_5.Children[$v_6]; if ($v_7.Id === $p1) return $v_7 } for (var $v_8 = 0; $v_8 < $v_0.Children.length; $v_8++) { var $v_9 = $v_0.Children[$v_8]; if ($v_9 === $v_1) continue; for (var $v_A = 0; $v_A < $v_9.Children.length; $v_A++) for (var $v_B = $v_9.Children[$v_A], $v_C = 0; $v_C < $v_B.Children.length; $v_C++) { var $v_D = $v_B.Children[$v_C]; if ($v_D.Id === $p1) return $v_D } } throw Error.argument(String.format("{0}, {1}", $p0, $p1)) }, $3Q_3: function ($p0) { $p0.val = null; if (IsNull(this.$G_3)) return false; var $v_0 = Mscrm.NavBar.$1V(this.$G_3); $p0.val = Mscrm.CrmUri.create($v_0); if (IsNull($p0.val)) $p0.val = Mscrm.CrmUri.create(""); return !$p0.val.get_isWebResource() }, $4g_3: function ($p0) { var $v_0, $$t_7, $$t_8; if ($$t_8 = this.$3Q_3($$t_7 = { val: $v_0 }), $v_0 = $$t_7.val, $$t_8) { var $$dict_2 = $p0; for (var $$key_3 in $$dict_2) { var $v_1 = { key: $$key_3, value: $$dict_2[$$key_3] }; if (!IsNull($v_1.value) && $v_1.key !== "refreshDashboard") { if (this.$K_3.Id.toUpperCase() === "SETTINGS" && ($v_1.key === "layout" || $v_1.key === "visualizationId" || $v_1.key === "visualizationPaneMode" || $v_1.key === "visualizationType")) continue; $v_0.get_query()[$v_1.key] = $v_1.value } } Mscrm.NavBar.$21(this.$G_3, $v_0.toString()); if (this.$G_3.Id === "nav_dashboards") { var $v_2 = Mscrm.NavBar.$2U(this.$K_3.Id, this.$G_3.ParentId, this.$G_3.Id), $v_3 = Mscrm.CrmUri.create(Mscrm.NavBar.$1V(this.$P_3)); if ($v_2 === $v_3.get_query()["sitemappath"]) { $v_0.get_query()["sitemappath"] = $v_2; Mscrm.NavBar.$21(this.$P_3, $v_0.toString()) } $p0["refreshDashboard"] && this.$p_3(this.$G_3) } } }, $4Z_3: function ($p0) { Mscrm.Utilities.getDomEventKeyCode($p0) === 27 && this.$F_3() }, $4d_3: function () { $P_CRM(String.format("#{0} .{1}", this.$29_3, "navTabButtonLink")).first().focus() }, $4f_3: function ($p0) { var $v_0, $$t_6, $$t_7; if ($$t_7 = this.$3Q_3($$t_6 = { val: $v_0 }), $v_0 = $$t_6.val, $$t_7) { $v_0.get_query()["viewid"] = $p0["viewId"]; $v_0.get_query()["viewtype"] = $p0["viewType"]; if (!IsNull($p0["childEntityName"])) $v_0.get_query()["type"] = $p0["childEntityName"]; if (!IsNull($p0["datefilter"])) $v_0.get_query()["datefilter"] = $p0["datefilter"]; if (!IsNull($p0["extraParameters"])) { var $v_1 = $p0["extraParameters"], $$dict_3 = $v_1; for (var $$key_4 in $$dict_3) { var $v_2 = { key: $$key_4, value: $$dict_3[$$key_4] }; $v_0.get_query()[$v_2.key] = $v_2.value } } Mscrm.NavBar.$21(this.$G_3, $v_0.toString()) } }, $4W_3: function () { var $v_0 = "", $v_1 = "", $v_2 = ""; if (!IsNull(this.$K_3)) $v_0 = this.$K_3.Id; if (!IsNull(this.$G_3)) { $v_1 = this.$G_3.Id; $v_2 = this.$G_3.ParentId } var $v_3 = {}; $v_3["areaId"] = $v_0; $v_3["subAreaId"] = $v_1; $v_3["sitemappath"] = Mscrm.NavBar.$2U($v_0, $v_2, $v_1); return $v_3 }, $4a_3: function ($p0) { var $v_0 = $p0["uri"], $v_1 = Mscrm.CrmUri.create($v_0); switch ($v_1.get_pageType()) { case "entityrecord": break; case "entitylist": default: this.$2a_3($v_0); if (!IsNull(this.$b_3)) { this.$b_3 = null; this.$2W_3() } break } this.$F_3(); this.$1M_3 = null }, $4Y_3: function ($p0) { this.$2Y_3(this.$3b_3($p0)) }, $4V_3: function ($p0) { if (IsNull(this.$b_3)) return; var $$t_1 = this; this.$1K_3 = window.setTimeout(function () { $$t_1.$4e_3($p0) }, 0) }, $4e_3: function ($p0) { var $v_0 = this.$3b_3($p0); !IsNull($v_0) && this.$2Y_3($v_0); if (this.$1K_3 !== -1) { window.clearTimeout(this.$1K_3); this.$1K_3 = -1 } }, $3b_3: function ($p0) { var $v_0 = this.raiseEvent(Mscrm.ScriptEvents.RecordSiteMapRequested, $p0); if (!IsNull($v_0) && isArray($v_0) && $v_0.length > 0) for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) { var $v_2 = $v_0[$v_1]; if (!IsNull($v_2)) return $v_2 } return null }, $4b_3: function ($p0) { this.$2a_3($p0["uri"]) }, $4h_3: function () { this.$5G_3() }, $5G_3: function () { var $v_0 = new Mscrm.Resizer(null); $v_0.showHideElements() }, $4c_3: function ($p0) { this.$2Y_3($p0["RecordNode"]) }, $2Y_3: function ($p0) { if (!IsNull($p0)) { this.$b_3 = $p0; this.$5F_3(Mscrm.NavBar.getEntityTypeCode($p0)); this.$39_3 = !isNullOrEmptyString(this.$b_3.Caption); this.$2W_3() } }, $5F_3: function ($p0) { if (!IsNull(this.$G_3) && Mscrm.NavBar.getEntityTypeCode(this.$G_3) === $p0) return; if (this.$3g_3(this.$K_3, $p0)) return; for (var $v_0 = this.$H_3.getRootNode(), $v_1 = 0; $v_1 < $v_0.Children.length; $v_1++) if (this.$3g_3($v_0.Children[$v_1], $p0)) { this.$K_3 = $v_0.Children[$v_1]; break } }, $3g_3: function ($p0, $p1) { if (IsNull($p0)) return false; for (var $v_0 = 0; $v_0 < $p0.Children.length; $v_0++) for (var $v_1 = $p0.Children[$v_0], $v_2 = 0; $v_2 < $v_1.Children.length; $v_2++) { var $v_3 = $v_1.Children[$v_2]; if ($p1 === Mscrm.NavBar.getEntityTypeCode($v_3)) { this.$G_3 = $v_3; return true } } return false }, $4u_3: function ($p0) { !IsNull(this.$f_3) && window.clearTimeout(this.$f_3); this.$f_3 = window.setTimeout(this.$$d_$F_3, 600) }, $4v_3: function ($p0) { if (!IsNull(this.$f_3)) { window.clearTimeout(this.$f_3); this.$f_3 = null } }, $4j_3: function () { $P_CRM(".navStatusClose").click() }, $F_3: function () { !IsNull(this.$f_3) && window.clearTimeout(this.$f_3); this.$f_3 = null; this.$4_3.blockInputUntilFinished(this.$S_3.hide()); this.$4_3.blockInputUntilFinished(this.$V_3.hide()); this.$4_3.blockInputUntilFinished(this.$a_3.hide()); this.$1W_3(); this.$15_3.hideOverlay() }, $1W_3: function () { this.$4_3.blockInputUntilFinished(this.$1o_3.hide()); this.$4_3.blockInputUntilFinished(this.$1t_3.hide()) }, $1E_3: function () { this.$j_3 = null; this.$9_3.unselectNodes(); this.$S_3.unselectNodes(); this.$V_3.unselectNodes(); this.$a_3.unselectNodes() }, $p_3: function ($p0) { if (IsNull($p0)) throw Error.argumentNull("navigationNode"); var $v_0 = this.$2t_3.createAction($p0); $v_0.execute() }, $4U_3: function ($p0, $p1) { this.$9_3.unselectNodes() }, $4X_3: function ($p0) { if (!this.$25_3) { var $v_0 = $P_CRM($p0.currentTarget), $v_1 = $v_0.data()["activateOnHover"]; if (!$v_1) { this.$9_3.unselectNodes(); this.$F_3() } else if (!$v_0.hasClass("selected")) { $P_CRM("#crmMasthead").focus(); $v_0.click() } } }, getNavigationStructure: function () { var $v_0 = new Mscrm.ExecutionCompletedNotifier; $v_0.NotifyCompleted(this.$2L_3); return $v_0 }, $3y_3: function ($p0) { for (var $$arr_1 = this.$s_3, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) { var $v_0 = $$arr_1[$$idx_3], $v_1 = parseInt($v_0.Id); if ($p0 === $v_1) return $v_0.ImageUrl } return null }
}; Mscrm.NavigationTree = function (navigationStructureProvider) { if (IsNull(navigationStructureProvider)) throw Error.argumentNull("navigationStructureProvider"); this.$2v_0 = navigationStructureProvider }; Mscrm.NavigationTree.prototype = { $2v_0: null, $2A_0: null, updateNavigationStructure: function () { var $v_0 = this.$2v_0.GetNavigationStructure(), $$t_4 = this; $v_0.QueueUntilNotified(function ($p1_0) { if (IsNull($p1_0)) throw Error.invalidOperation(); var $v_1 = $p1_0, $v_2 = $v_1.Children; if (IsNull($v_2) || !$v_2.length) throw Error.invalidOperation(); $$t_4.$2A_0 = $v_1 }); return $v_0 }, getRootNode: function () { return this.$2A_0 }, getAncestorsById: function (nodeId) { if (isNullOrEmptyString(nodeId)) throw Error.argumentNull("nodeId"); var $v_0 = [], $v_1 = this.getNodeById(nodeId); if (IsNull($v_1) || isNullOrEmptyString($v_1.ParentId)) return $v_0; var $v_2 = this.getNodeById($v_1.ParentId); while (!IsNull($v_2)) { $v_0.push($v_2); $v_2 = this.getNodeById($v_2.ParentId) } return $v_0.reverse() }, getNodeById: function (nodeId) { var $v_0 = [], $v_1 = this.$2A_0; while (!IsNull($v_1)) { if ($v_1.Id === nodeId) return $v_1; if (!IsNull($v_1.Children)) for (var $v_2 = 0; $v_2 < $v_1.Children.length; $v_2++) $v_0.push($v_1.Children[$v_2]); $v_1 = $v_0.shift() } return null }, isLeaf: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); return IsNull(navigationNode.Children) || !navigationNode.Children.length }, cloneNode: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); var $v_0 = function () { function NodeWrapper() { } return function (node) { NodeWrapper.prototype = node; return new NodeWrapper } }(); return $v_0(navigationNode) } }; Mscrm.Resizer = function (container) { if (Mscrm.NavBar.$3V()) { this.$1x_0 = 870; this.$1v_0 = 770; this.$1X_0 = 570; this.$1F_0 = 430; this.$1U_0 = this.$1F_0 - 28; this.$1T_0 = this.$1U_0 - 40; this.$1S_0 = this.$1T_0 - 32; this.$2Q_0 = this.$1S_0 - 53; this.$2P_0 = 420 } else { this.$1x_0 = 1200; this.$1v_0 = 1100; this.$1X_0 = 870; this.$1F_0 = 730; this.$1U_0 = this.$1F_0 - 28; this.$1T_0 = this.$1U_0 - 40; this.$1S_0 = this.$1T_0 - 32; this.$2Q_0 = this.$1S_0 - 53; this.$2P_0 = 520 } if (!IsNull(container)) this.$U_0 = container }; Mscrm.Resizer.prototype = { $1x_0: 0, $1v_0: 0, $1X_0: 0, $1F_0: 0, $1U_0: 0, $1T_0: 0, $1S_0: 0, $2Q_0: 0, $2P_0: 0, $r_0: 0, $U_0: null, $Y_0: function ($p0) { if (!IsNull(this.$U_0)) return $P_CRM($p0, this.$U_0); return $P_CRM($p0) }, showHideElements: function () { this.$r_0 = $P_CRM(window).innerWidth(); this.$q_0(this.$4E_0(), this.$1v_0); this.$q_0(this.$4I_0(), this.$2Q_0); this.$q_0(this.$4F_0(), this.$1S_0); this.$q_0(this.$4G_0(), this.$1v_0); this.$q_0(this.$4L_0(), this.$1X_0); this.$q_0(this.$4K_0(), this.$1U_0); this.$q_0(this.$4J_0(), this.$1T_0); this.$q_0(this.$4H_0(), this.$1F_0); if (this.$r_0 > this.$1x_0) this.$4Q_0(); else if (this.$r_0 <= this.$1x_0 && this.$r_0 > this.$1X_0) this.$4O_0(); else if (this.$r_0 <= this.$1X_0 && this.$r_0 > this.$1F_0) this.$4P_0(); else this.$4N_0(); if (this.$r_0 > this.$2P_0) this.$3m_0(); else this.$3l_0() }, $q_0: function ($p0, $p1) { if (this.$r_0 > $p1) this.$59_0($p0); else this.$4k_0($p0) }, $3F_0: function ($p0, $p1) { !$p0.hasClass($p1) && $p0.addClass($p1) }, $3Z_0: function ($p0, $p1) { $p0.hasClass($p1) && $p0.removeClass($p1) }, $4k_0: function ($p0) { this.$3F_0($p0, "navTabHidden") }, $59_0: function ($p0) { this.$3Z_0($p0, "navTabHidden") }, $3m_0: function () { this.$3H_0(this.$3N_0()); this.$3H_0(this.$3O_0()) }, $3l_0: function () { this.$3G_0(this.$3N_0()); this.$3G_0(this.$3O_0()) }, $3G_0: function ($p0) { this.$3F_0($p0, "navTabButtonNarrowText") }, $3H_0: function ($p0) { this.$3Z_0($p0, "navTabButtonNarrowText") }, $4Q_0: function () { this.$1y_0().css("width", "78px") }, $4O_0: function () { this.$1y_0().css("width", "38px") }, $4P_0: function () { this.$1y_0().css("width", "18px") }, $4N_0: function () { this.$1y_0().css("width", "0") }, $4E_0: function () { return this.$Y_0("#navTabLogoTextId") }, $4G_0: function () { return this.$Y_0("#navBarGlobalQuickCreateTextId") }, $4L_0: function () { return this.$Y_0("#navBarUserInfoTextId") }, $1y_0: function () { return this.$Y_0("#navTabQuickCreateSpacer") }, $4H_0: function () { return this.$Y_0("#TabButtonHelpId") }, $4K_0: function () { return this.$Y_0("#TabUserInfoId") }, $4J_0: function () { return this.$Y_0("#TabButtonSettingsId") }, $4F_0: function () { return this.$Y_0("#GQC") }, $4I_0: function () { return this.$Y_0("#TabHome") }, $3N_0: function () { return this.$Y_0("#navTabModuleButtonTextId") }, $3O_0: function () { return this.$Y_0(".navTabSplitButtonTextCss") } }; Mscrm.GlobalQuickCreateAction = function (node, navStatus, parentControl) { this.$3_0 = node; this.$10_0 = navStatus; if (IsNull(parentControl)) throw Error.argumentNull("parentControl"); this.$B_0 = parentControl }; Mscrm.GlobalQuickCreateAction.prototype = { $3_0: null, $10_0: null, $B_0: null, execute: function () { var $v_0 = this.$3_0.Action; if (IsNull($v_0)) throw Error.argumentNull("navigationNode.Action"); if (this.$3_0.NodeType !== 1 && this.$3_0.NodeType !== 2) throw Error.argument("navigationNode.Action.NodeType"); if (this.$3_0.NodeType === 1) { if (!("EntityTypeCode" in $v_0)) throw Error.argument("node.Action.EntityTypeCode"); if (!("QuickCreateTimestamp" in $v_0)) throw Error.argument("node.Action.QuickCreateTimestamp"); var $v_2 = new Mscrm.NavBarGlobalQuickCreateCallbacks("NavBarGloablQuickCreate", this.$10_0, this.$3_0, this.$B_0); Mscrm.GlobalQuickCreate.GlobalQuickCreateBehavior.launchGlobalQuickCreate($v_2, this.$3_0.Caption, $v_0["EntityTypeCode"], $P_CRM.parseJSON(this.$3_0.Action["QuickCreateTimestamp"].toString())) } else { if (!("EntityTypeCode" in $v_0)) throw Error.argument("node.Action.EntityTypeCode"); openObj($v_0["EntityTypeCode"], null) } var $v_1 = (new Date).getTime().toString(); Mscrm.Utilities.addControlMarker(this.$B_0.get_id(), Mscrm.NavBar.$17, Mscrm.NavBar.$18, $v_1); Mscrm.Utilities.addControlMarker(this.$3_0.Id, Mscrm.NavBar.$17, Mscrm.NavBar.$18, $v_1) } }; Mscrm.GlobalQuickCreateActionProvider = function (navStatus, parentControl) { this.$10_0 = navStatus; this.$B_0 = parentControl }; Mscrm.GlobalQuickCreateActionProvider.prototype = { $10_0: null, $B_0: null, createAction: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); return new Mscrm.GlobalQuickCreateAction(navigationNode, this.$10_0, this.$B_0) } }; Mscrm.NavBarGlobalQuickCreateCallbacks = function (quickCreateFrameId, navStatus, navigationNode, parentControl) { Mscrm.NavBarGlobalQuickCreateCallbacks.initializeBase(this, [quickCreateFrameId, 990]); if (IsNull(navStatus)) throw Error.argumentNull("navStatus"); if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); this.$10_1 = navStatus; this.$2s_1 = navigationNode; this.$B_1 = parentControl }; Mscrm.NavBarGlobalQuickCreateCallbacks.prototype = { $10_1: null, $2s_1: null, $B_1: null, onQuickCreateSaveSuccessCallback: function (record) { var $v_0 = Mscrm.GlobalQuickCreate.GlobalQuickCreateCallbacks.prototype.onQuickCreateSaveSuccessCallback.call(this, record), $v_1 = window.LOCID_SUCCESS_SAVE_QUICKFORM, $v_2 = []; $v_2[0] = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_QUICKCREATE_VIEWRECORD"); $v_2[1] = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_QUICKCREATE_CREATEANOTHER"); var $v_3 = []; $v_3[0] = new Mscrm.ViewEntityAction(record.TypeCode, record.Id); $v_3[1] = new Mscrm.GlobalQuickCreateAction(this.$2s_1, this.$10_1, this.$B_1); this.$10_1.showInfoMessage(String.format($v_1, CrmEncodeDecode.CrmHtmlEncode(record.TypeDisplayName), CrmEncodeDecode.CrmHtmlEncode(record.Name)), $v_2, $v_3, false); return $v_0 } }; Mscrm.NavigateToPageAction = function (node, parentControl) { if (IsNull(node)) throw Error.argumentNull("node"); if (IsNull(parentControl)) throw Error.argumentNull("parentControl"); this.$B_0 = parentControl; this.$3_0 = node }; Mscrm.NavigateToPageAction.prototype = { $3_0: null, $B_0: null, execute: function () { if (IsNull(this.$3_0.Action)) throw Error.argumentNull("node.Action"); if (!("PageUrl" in this.$3_0.Action)) throw Error.argument("node.Action.PageUrl"); var $v_0 = Mscrm.CrmUri.create(this.$3_0.Action["PageUrl"]); if (IsNull($v_0.get_query()["sitemappath"])) { var $v_3 = this.$B_0.getPath(this.$3_0); if (!isNullOrEmptyString($v_3)) $v_0.get_query()["sitemappath"] = $v_3 } if (window.location.protocol.toLowerCase() === "https:" && $v_0.get_host().toLowerCase() === "go.microsoft.com") { var $v_4 = Mscrm.CrmUri.create($v_0.toString().toLowerCase()); if ($v_4.get_query()["linkid"] === "296269") { safeWindowOpen($v_0, null, null); return } } var $v_1 = {}; $v_1["uri"] = $v_0.toString(); this.$B_0.raiseNavigateRequest($v_1); var $v_2 = (new Date).getTime().toString(); Mscrm.Utilities.addControlMarker(this.$3_0.Id, Mscrm.NavBar.$17, Mscrm.NavBar.$18, $v_2); Mscrm.Utilities.addControlMarker(this.$B_0.get_id(), Mscrm.NavBar.$17, Mscrm.NavBar.$18, $v_2) } }; Mscrm.NavigateToPageActionProvider = function (parentControl) { this.$B_0 = parentControl }; Mscrm.NavigateToPageActionProvider.prototype = { $B_0: null, createAction: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); return new Mscrm.NavigateToPageAction(navigationNode, this.$B_0) } }; Mscrm.NavigationNodeActionFactory = function (actionProviders) { if (IsNull(actionProviders)) throw Error.argumentNull("actionProviders"); this.$2d_0 = actionProviders }; Mscrm.NavigationNodeActionFactory.prototype = { $2d_0: null, createAction: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); if (IsNull(navigationNode.Action)) throw Error.argumentNull("navigationNode.Action"); if (!("ActionType" in navigationNode.Action)) throw Error.argument("navigationNode.Action.ActionType"); var $v_0 = this.$2d_0[navigationNode.Action["ActionType"]]; if (IsNull($v_0)) throw Error.invalidOperation("Navigation node action type is not supported."); return $v_0.createAction(navigationNode) } }; Mscrm.RecordSiteMapAction = function (node, parentControl) { if (IsNull(node)) throw Error.argumentNull("node"); if (IsNull(parentControl)) throw Error.argumentNull("parentControl"); this.$B_0 = parentControl; this.$3_0 = node }; Mscrm.RecordSiteMapAction.prototype = { $3_0: null, $B_0: null, execute: function () { var $v_0 = {}; $v_0["id"] = this.$3_0.Id; this.$B_0.raiseEvent(Mscrm.ScriptEvents.RecordSiteMapAction, $v_0) } }; Mscrm.MruActionProvider = function (parentControl) { this.$B_0 = parentControl }; Mscrm.MruActionProvider.prototype = { $B_0: null, createAction: function (navigationNode) { return new Mscrm.MruAction(navigationNode, this.$B_0) } }; Mscrm.MruAction = function (node, parentControl) { if (IsNull(node)) throw Error.argumentNull("node"); if (IsNull(parentControl)) throw Error.argumentNull("parentControl"); this.$B_0 = parentControl; this.$3_0 = node }; Mscrm.MruAction.prototype = { $3_0: null, $B_0: null, execute: function () { if (IsNull(this.$3_0.Action)) throw Error.argumentNull("node.Action"); if (!("EntityTypeCode" in this.$3_0.Action)) throw Error.argument("node.Action.EntityTypeCode"); if (!("Action" in this.$3_0.Action)) throw Error.argument("node.Action.Action"); if (!("Id" in this.$3_0.Action)) throw Error.argument("node.Action.Id"); this.$B_0.$4w_3(this.$3_0); openObj(this.$3_0.Action["EntityTypeCode"], this.$3_0.Action["Id"], this.$3_0.Action["Action"]) } }; Mscrm.RecordSiteMapActionProvider = function (parentControl) { this.$B_0 = parentControl }; Mscrm.RecordSiteMapActionProvider.prototype = { $B_0: null, createAction: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); return new Mscrm.RecordSiteMapAction(navigationNode, this.$B_0) } }; Mscrm.TestNavigateAction = function (pageUrl) { if (isNullOrEmptyString(pageUrl)) throw Error.argumentNull("pageUrl"); this.$2y_0 = pageUrl }; Mscrm.TestNavigateAction.prototype = { $2y_0: null, execute: function () { alert(this.$2y_0) } }; Mscrm.TestNavigateActionProvider = function () { }; Mscrm.TestNavigateActionProvider.prototype = { createAction: function (navigationNode) { if (IsNull(navigationNode)) throw Error.argumentNull("navigationNode"); if (IsNull(navigationNode.Action)) throw Error.argumentNull("navigationNode.Action"); if (!("PageUrl" in navigationNode.Action)) throw Error.argument("navigationNode.Action.PageUrl"); var $v_0 = navigationNode.Action["PageUrl"]; return new Mscrm.TestNavigateAction($v_0) } }; Mscrm.ViewEntityAction = function (typeCode, recordId) { if (isNullOrEmptyString(recordId)) throw Error.argumentNull("recordId"); this.$3e_0 = typeCode; this.$3Y_0 = recordId }; Mscrm.ViewEntityAction.prototype = { $3e_0: 0, $3Y_0: null, execute: function () { openObj(this.$3e_0, this.$3Y_0) } }; Mscrm.ActionButtonBuilder = function (id, caption, image, colorAccent, clickEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); if (isNullOrEmptyString(image)) throw Error.argumentNull("image"); this.$1_0 = id; this.$8_0 = caption; this.$Q_0 = image; this.$2_0 = clickEventHandler; this.$J_0 = colorAccent }; Mscrm.ActionButtonBuilder.prototype = { $1_0: null, $8_0: null, $Q_0: null, $J_0: null, $2_0: null, build: function () { var $v_0 = String.format('<a class="navActionButtonContainer navActionButton navActionButtonDefault {4} " id="{0}" role="button" title="{1}" href="javascript:;" unselectable="on" {3}><span class="navActionButtonIconContainer" unselectable="on"><span class="navActionButtonIcon" unselectable="on"><img src="{2}" unselectable="on"></span></span><span class="navActionButtonLabel" unselectable="on">{1}</span></a>', this.$1_0, this.$8_0, this.$Q_0, isNullOrEmptyString(this.$J_0) ? "" : String.format('style="background-color: {0}"', this.$J_0), Mscrm.BuilderHelper.contrastModeClassName()), $v_1 = Mscrm.BuilderHelper.fromHtmlBindClick($v_0, this.$2_0), $v_2 = new Mscrm.ActionButtonContainerBuilder("nav-group"), $v_3 = $v_2.build(); $v_3.append($v_1); $v_3.append($P_CRM(String.format('<span class="navActionButtonShadow {0}"></span>', Mscrm.BuilderHelper.contrastModeClassName()))); return $v_3 } }; Mscrm.ActionButtonColoredSplitBuilder = function (id, leftCaption, rightCaption, leftImage, flipImage, rightImage, colorAccent, leftClickEventHandler, rightClickEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(leftCaption)) throw Error.argumentNull("leftCaption"); if (isNullOrEmptyString(rightCaption)) throw Error.argumentNull("rightCaption"); if (isNullOrEmptyString(leftImage)) throw Error.argumentNull("leftImage"); if (isNullOrEmptyString(rightImage)) throw Error.argumentNull("rightImage"); this.$1_0 = id; this.$1h_0 = leftCaption; this.$1k_0 = rightCaption; this.$2q_0 = leftImage; this.$31_0 = rightImage; this.$J_0 = colorAccent; this.$1e_0 = flipImage; this.$1i_0 = leftClickEventHandler; this.$1l_0 = rightClickEventHandler }; Mscrm.ActionButtonColoredSplitBuilder.prototype = { $1_0: null, $1h_0: null, $1k_0: null, $2q_0: null, $31_0: null, $J_0: null, $1e_0: false, $1i_0: null, $1l_0: null, build: function () { var $v_0 = Mscrm.BuilderHelper.fromHtmlBindClick(String.format('<a class="navActionButton navActionButtonLeft" {4} id="{0}" role="button" title="{1}" href="javascript:;" unselectable="on" ><span class="navActionButtonIconContainer" unselectable="on"><span class="navActionButtonIcon" unselectable="on"><img src="{2}" {3} unselectable="on"></span></span><span class="navActionButtonLabel" unselectable="on">{1}</span></a>', this.$1_0, this.$1h_0, this.$2q_0, Mscrm.BuilderHelper.getFlipImageHtmlCode(this.$1e_0, false), isNullOrEmptyString(this.$J_0) ? "" : String.format('style="background-color: {0}"', this.$J_0)), this.$1i_0), $v_1 = Mscrm.BuilderHelper.fromHtmlBindClick(String.format('<a class="navActionButton navActionButtonRight" {4} id="{0}" role="button" title="{1}" href="javascript:;" unselectable="on" ><span class="navActionButtonSplitterContainer" unselectable="on"><img src="{2}" alt="|" class="navActionButtonSplitter"></span><span class="navActionButtonDownImageContainer" unselectable="on"><img src="{3}" unselectable="on" class="navActionButtonDropDown"></span></a>', String.format("{0}-drop", this.$1_0), this.$1k_0, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/ActionButtonSplit.png", "/Images/HighContrast/ActionButtonSplit.png"), this.$31_0, isNullOrEmptyString(this.$J_0) ? "" : String.format('style="background-color: {0}"', this.$J_0)), this.$1l_0), $v_2 = $P_CRM(String.format('<span class="navActionButtonContainer {0}"></span>', Mscrm.BuilderHelper.contrastModeClassName())); $v_2.append($v_0); $v_2.append($v_1); $v_2.append($P_CRM(String.format('<span class="navActionButtonContainerShadow {0}"></span>', Mscrm.BuilderHelper.contrastModeClassName()))); var $v_3 = $P_CRM(String.format('<span class="{0}" unselectable="on"></span>', "nav-group")); $v_3.append($v_2); return $v_3 } }; Mscrm.ActionButtonContainerBuilder = function (className) { this.$2f_0 = className }; Mscrm.ActionButtonContainerBuilder.prototype = { $2f_0: null, build: function () { var $v_0 = $P_CRM(String.format('<li class="{0}" unselectable="on">', this.$2f_0)); return $v_0 } }; Mscrm.ActionButtonNarrowBuilder = function (id, caption, image, colorAccent, clickEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); if (isNullOrEmptyString(image)) throw Error.argumentNull("image"); this.$1_0 = id; this.$8_0 = caption; this.$Q_0 = image; this.$2_0 = clickEventHandler; this.$J_0 = colorAccent }; Mscrm.ActionButtonNarrowBuilder.prototype = { $1_0: null, $8_0: null, $Q_0: null, $J_0: null, $2_0: null, build: function () { var $v_0 = String.format('<a class="navActionButtonContainer navActionButton navActionButtonNarrow {4}" id="{0}" role="button" title="{1}" href="javascript:;" unselectable="on" {3}><span class="navActionButtonIconContainer" unselectable="on"><span class="navActionButtonIcon" unselectable="on"><img src="{2}" unselectable="on"></span></span><span class="navActionButtonLabel" unselectable="on">{1}</span></a>', this.$1_0, this.$8_0, this.$Q_0, isNullOrEmptyString(this.$J_0) ? "" : String.format('style="background-color: {0}"', this.$J_0), Mscrm.BuilderHelper.contrastModeClassName()), $v_1 = Mscrm.BuilderHelper.fromHtmlBindClick($v_0, this.$2_0), $v_2 = new Mscrm.ActionButtonContainerBuilder("nav-group"), $v_3 = $v_2.build(); $v_3.append($v_1); $v_3.append($P_CRM(String.format('<span class="navActionButtonNarrowShadow {0}"></span>', Mscrm.BuilderHelper.contrastModeClassName()))); return $v_3 } }; Mscrm.ActionButtonSmallBuilder = function (id, caption, image, flipImage, colorAccent, clickEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); if (isNullOrEmptyString(image)) throw Error.argumentNull("image"); this.$1_0 = id; this.$8_0 = caption; this.$Q_0 = image; this.$1e_0 = flipImage; this.$J_0 = colorAccent; this.$2_0 = clickEventHandler }; Mscrm.ActionButtonSmallBuilder.prototype = { $1_0: null, $8_0: null, $Q_0: null, $J_0: null, $1e_0: false, $2_0: null, build: function () { var $v_0 = Mscrm.BuilderHelper.fromHtmlBindClick(String.format('<a class="navActionButtonContainer navActionButton navActionButtonSmall {5}" id="{0}" role="button" title="{1}" href="javascript:;" unselectable="on" {2}><span class="navActionButtonLabel" unselectable="on">{1}</span><span class="navActionButtonIconContainer" unselectable="on"><img src="{3}" {4} unselectable="on"></span></a>', this.$1_0, this.$8_0, isNullOrEmptyString(this.$J_0) ? "" : String.format('style="background-color: {0}"', this.$J_0), this.$Q_0, Mscrm.BuilderHelper.getFlipImageHtmlCode(this.$1e_0, false), Mscrm.BuilderHelper.contrastModeClassName()), this.$2_0), $v_1 = new Mscrm.ActionButtonContainerBuilder("nav-group"), $v_2 = $v_1.build(); $v_2.append($v_0); $v_2.append($P_CRM(String.format('<span class="navActionButtonSmallShadow {0}"></span>', Mscrm.BuilderHelper.contrastModeClassName()))); return $v_2 } }; Mscrm.ActionGroupBuilder = function (id, tabButtonBuilders) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (IsNull(tabButtonBuilders)) throw Error.argumentNull("tabButtonBuilders"); this.$1_0 = id; this.$2M_0 = tabButtonBuilders }; Mscrm.ActionGroupBuilder.prototype = { $2M_0: null, $1_0: null, build: function () { for (var $v_0 = $P_CRM(String.format('<div id="{0}" />', this.$1_0)), $v_1 = $P_CRM('<ul class="nav-tabBody"/>'), $v_2 = 0; $v_2 < this.$2M_0.length; $v_2++) $v_1.append(this.$2M_0[$v_2].build()); $v_0.append($v_1); return $v_0 } }; Mscrm.ActionListGroupBuilder = function (groupCaption, groupId, groupSectionBuilders) { if (IsNull(groupId)) throw Error.argumentNull("groupId"); if (IsNull(groupSectionBuilders)) throw Error.argumentNull("groupSectionBuilders"); if (!groupSectionBuilders.length) throw Error.argumentNull("groupSectionBuilders"); this.$2m_0 = groupCaption; this.$2n_0 = groupId; this.$27_0 = groupSectionBuilders }; Mscrm.ActionListGroupBuilder.prototype = { $27_0: null, $2m_0: null, $2n_0: null, build: function () { for (var $v_0 = $P_CRM(String.format('<li class="nav-subgroup" unselectable="on"><span class="nav-groupContainer" unselectable="on"><span class="nav-groupTitle" title="{0}" id="{1}" unselectable="on">{0}</span><span class="nav-groupBody" unselectable="on"><span class="nav-layout" unselectable="on"/></span></span></li>', this.$2m_0, this.$2n_0)), $v_1 = 0; $v_1 < this.$27_0.length; $v_1++) $P_CRM(".nav-layout", $v_0).append(this.$27_0[$v_1].build()); return $v_0 } }; Mscrm.ActionsBuilderProvider = function (createNodeClickedHandler) { if (IsNull(createNodeClickedHandler)) throw Error.argumentNull("createNodeClickedHandler"); this.$C_0 = createNodeClickedHandler }; Mscrm.ActionsBuilderProvider.prototype = { $C_0: null, create: function (navigationNodes) { for (var $v_0 = [], $v_1 = 0; $v_1 < navigationNodes.length; $v_1++) { var $v_2 = navigationNodes[$v_1]; if ($v_2.NodeType === 2) $v_0[$v_1] = new Mscrm.ActionButtonNarrowBuilder($v_2.Id, $v_2.Caption, $v_2.ImageUrl, $v_2.ColorAccent, Mscrm.BuilderHelper.createEventHandler(this.$C_0, $v_2)); else $v_0[$v_1] = new Mscrm.ActionButtonBuilder($v_2.Id, $v_2.Caption, $v_2.ImageUrl, $v_2.ColorAccent, Mscrm.BuilderHelper.createEventHandler(this.$C_0, $v_2)) } return $v_0 } }; Mscrm.BackButtonBuilder = function (node, clickEventHandler) { if (IsNull(node)) throw Error.argumentNull("node"); this.$3_0 = node; this.$2_0 = clickEventHandler }; Mscrm.BackButtonBuilder.prototype = { $3_0: null, $2_0: null, build: function () { var $v_0 = this.$3U_0(), $v_1 = Mscrm.BuilderHelper.fromHtmlBindClick(String.format($v_0 ? '<span class="navTabButton navTabBackButton" id="{0}" title="{1}"><a onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonImageContainer" unselectable="on"><img unselectable="on" src="{2}"/></span></a></span>' : '<span class="navTabButton navTabBackButton" id="{0}" title="{1}"><span class="navTabDisabledButton"><span class="navTabButtonImageContainer" unselectable="on"><img unselectable="on" src="{2}"/></span></span></span>', "TabBack", this.$3_0.Caption, this.$4D_0()), this.$2_0); !$v_0 && $v_1.addClass("navTabDisableHover"); return $v_1 }, $4D_0: function () { if (this.$3U_0()) return "/Images/Back_Active.png"; else return "/Images/Back_Inactive.png" }, $3U_0: function () { var $v_0 = false, $v_1 = $find("crmHistoryManager"); if (IsNull($v_1)) return false; var $v_2 = $v_1, $v_3 = $v_2.get_uiButtonsState(); if (IsNull($v_3)) return false; if ("backButton" in $v_3) $v_0 = $v_3["backButton"]; return $v_0 } }; Mscrm.BuilderHelper = function () { }; Mscrm.BuilderHelper.fromHtmlBindClick = function ($p0, $p1) { var $v_0 = $P_CRM($p0); !IsNull($p1) && $v_0.bind("click", $p1); return $v_0 }; Mscrm.BuilderHelper.attachEventhandlerToObject = function ($p0, $p1) { if (IsNull($p0)) throw Error.argumentNull("Object must be specified"); if (IsNull($p1)) throw Error.argumentNull("Event handler must be specified"); $p0.bind("click", $p1) }; Mscrm.BuilderHelper.fromHtmlBindClickHover = function ($p0, $p1, $p2, $p3) { var $v_0 = 0, $v_1 = $P_CRM($p0); $v_1.data("activateOnHover", $p3); $v_1.click(function ($p1_0) { if ($v_0) { window.clearTimeout($v_0); $v_0 = 0 } }); !IsNull($p1) && $v_1.click($p1); if (!IsNull($p2)) { $v_1.mouseenter(function ($p1_0) { $v_0 = window.setTimeout(function () { $p2($p1_0) }, 250) }); $v_1.mouseleave(function ($p1_0) { if ($v_0) { window.clearTimeout($v_0); $v_0 = 0 } }) } return $v_1 }; Mscrm.BuilderHelper.createEventHandler = function ($p0, $p1) { if (IsNull($p1)) throw Error.argumentNull("navigationNode"); return function ($p1_0) { !IsNull($p0) && $p0($p1); $p1_0.preventDefault(); $p1_0.stopPropagation() } }; Mscrm.BuilderHelper.findNavigationNode = function ($p0, $p1) { if (IsNull($p0)) return null; for (var $v_0 = 0; $v_0 < $p0.length; $v_0++) if ($p0[$v_0].Id === $p1) return $p0[$v_0]; return null }; Mscrm.BuilderHelper.fetchCaptionForNodeId = function ($p0, $p1) { var $v_0 = Mscrm.BuilderHelper.findNavigationNode($p0, $p1); if (IsNull($v_0)) throw Error.argumentNull("navigationNode"); return $v_0.Caption }; Mscrm.BuilderHelper.getResourceStringFromLOCID = function ($p0) { return window[$p0] }; Mscrm.BuilderHelper.selectImageBasedOnContrastMode = function ($p0, $p1) { return window.HighContrastEnabled ? $p1 : $p0 }; Mscrm.BuilderHelper.contrastModeClassName = function () { return window.HighContrastEnabled ? "highContrast" : "normal" }; Mscrm.BuilderHelper.isImageFlippedForNavigationNodeType = function ($p0) { var $v_0 = false; switch (Mscrm.NavBar.getEntityTypeCode($p0)) { case Mscrm.EntityTypeCode.Workflow: $v_0 = true; break } return $v_0 }; Mscrm.BuilderHelper.getFlipImageHtmlCode = function ($p0, $p1) { var $v_0 = null; if ($p0 && window.LOCID_UI_DIR.toUpperCase() === "RTL") if (!$p1 || $p1 && window.USER_LANGUAGE_CODE !== Mscrm.LocaleIds.hebrew) $v_0 = Mscrm.BuilderHelper.$4m(); return $v_0 }; Mscrm.BuilderHelper.$4m = function () { return String.format('style="{0}"', Mscrm.Utilities.flipImage("H")) }; Mscrm.ContainerBuilder = function (id) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); this.$1_0 = id }; Mscrm.ContainerBuilder.prototype = { $1_0: null, build: function () { var $v_0 = $P_CRM(String.format(this.get_containerHtml(), this.$1_0)); return $v_0 } }; Mscrm.EmptyActionBuilder = function () { }; Mscrm.EmptyActionBuilder.get_title = function () { return Mscrm.EmptyActionBuilder.$1j }; Mscrm.EmptyActionBuilder.set_title = function (value) { Mscrm.EmptyActionBuilder.$1j = value; return value }; Mscrm.EmptyActionBuilder.prototype = { build: function () { var $v_0 = $P_CRM(String.format('<div class="navEmptyActionButtonSmall" id="NavEmpty" unselectable="on" title="{0}"><span unselectable="on"><img unselectable="on" src="{1}"/></span><span class="navActionButtonLabel" unselectable="on">{0}</span></div>', Mscrm.EmptyActionBuilder.$1j, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavBarWhiteNotification.png", "/Images/HighContrast/NavBarWhiteNotification.png"))), $v_1 = new Mscrm.ActionButtonContainerBuilder("nav-group"), $v_2 = $v_1.build(); $v_2.append($v_0); return $v_2 } }; Mscrm.GlobalQuickCreateButtonBuilder = function (id, caption, clickEventHandler, hoverEventHandler) { this.$1_0 = id; this.$8_0 = caption; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.GlobalQuickCreateButtonBuilder.prototype = { $2_0: null, $0_0: null, $1_0: null, $8_0: null, build: function () { var $v_0 = "globalCreateButtonImage"; if (window.IS_SANDBOX_ORG) $v_0 += " navTabButtonImageSandbox"; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span class="navTabButton" id="{0}" title="{1}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonImageContainer" unselectable="on"><img id="navTabGlobalCreateImage" class="{2}" alt="" unselectable="on" src="{3}"/></span><span id="navBarGlobalQuickCreateTextId" class="navTabButtonLabel" unselectable="on"><span class="navTabButtonText">{1}</span></span></a></span>', this.$1_0, this.$8_0, $v_0, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif")), this.$2_0, this.$0_0, false); return $v_1 } }; Mscrm.GroupedActionsBuilderProvider = function (actionBuilderProvider) { if (IsNull(actionBuilderProvider)) throw Error.argumentNull("actionBuilderProvider"); this.$1Y_0 = actionBuilderProvider }; Mscrm.GroupedActionsBuilderProvider.prototype = { $1Y_0: null, create: function (navigationNodes) { for (var $v_0 = [], $v_1 = 0; $v_1 < navigationNodes.length; $v_1++) { var $v_2 = navigationNodes[$v_1]; if (IsNull($v_2.Children) || !$v_2.Children.length) continue; var $v_3 = this.$1Y_0.create($v_2.Children); $v_0.push(new Mscrm.ActionListGroupBuilder($v_2.Caption, $v_2.Id, $v_3)) } return $v_0 } }; Mscrm.HeaderGroupBuilderProvider = function (caption, actionBuilderProvider) { if (IsNull(actionBuilderProvider)) throw Error.argumentNull("actionBuilderProvider"); this.$8_0 = caption; this.$1Y_0 = actionBuilderProvider }; Mscrm.HeaderGroupBuilderProvider.prototype = { $1Y_0: null, $8_0: null, create: function (navigationNodes) { var $v_0 = this.$1Y_0.create(navigationNodes), $v_1 = []; $v_1.push(new Mscrm.ActionListGroupBuilder(this.$8_0, "HGC", $v_0)); return $v_1 } }; Mscrm.HomeButtonBuilder = function (caption, clickEventHandler, hoverEventHandler) { this.$8_0 = caption; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.HomeButtonBuilder.prototype = { $8_0: null, $2_0: null, $0_0: null, build: function () { var $v_0 = "homeButtonImage"; if (window.IS_SANDBOX_ORG) $v_0 += " navTabButtonImageSandbox"; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span class="navTabButton navHomeButton" id="{0}" title="{2}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonImageContainer" unselectable="on"><img class="{1}" alt="{2}" unselectable="on" src="{3}"/></span></a></span><span class="navBarTopLevelItem navTabButtonImageContainer" unselectable="on"><img src="{4}" alt="|" class="navTabSplitter"></span>', "TabHome", $v_0, this.$8_0, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif"), Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavBarSplit.png", "/Images/HighContrast/NavBarSplit.png")), this.$2_0, this.$0_0, false); return $v_1 } }; Mscrm.ModuleActionButtonBuilder = function (id, caption, image, clickEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); if (isNullOrEmptyString(image)) image = "/_imgs/NavBar/Invisible.gif"; this.$1_0 = id; this.$8_0 = caption; this.$Q_0 = image; this.$2_0 = clickEventHandler }; Mscrm.ModuleActionButtonBuilder.prototype = { $1_0: null, $8_0: null, $Q_0: null, $2_0: null, build: function () { var $v_0 = Mscrm.BuilderHelper.fromHtmlBindClick(String.format('<a class="navActionButtonContainer navActionButton navModuleButton {4}" id="{0}" role="button" title="{1}" href="javascript:;" unselectable="on" ><span class="navActionButtonIconContainer" unselectable="on"><span class="navActionButtonIcon" unselectable="on"><img src="{2}" unselectable="on" {3}></span></span><span class="navActionButtonLabel" unselectable="on">{5}</span></a>', CrmEncodeDecode.CrmHtmlAttributeEncode(this.$1_0), CrmEncodeDecode.CrmHtmlAttributeEncode(this.$8_0), CrmEncodeDecode.CrmHtmlAttributeEncode(this.$Q_0), this.$1_0 === "HLP" ? Mscrm.BuilderHelper.getFlipImageHtmlCode(true, true) : "", Mscrm.BuilderHelper.contrastModeClassName(), CrmEncodeDecode.CrmHtmlEncode(this.$8_0)), this.$2_0), $v_1 = new Mscrm.ActionButtonContainerBuilder("nav-group"), $v_2 = $v_1.build(); $v_2.append($v_0); $v_2.append($P_CRM(String.format('<span class="navModuleButtonShadow {0}"></span>', Mscrm.BuilderHelper.contrastModeClassName()))); return $v_2 } }; Mscrm.ModuleActionsBuilderProvider = function (createNodeClickedHandler) { if (IsNull(createNodeClickedHandler)) throw Error.argumentNull("createNodeClickedHandler"); this.$C_0 = createNodeClickedHandler }; Mscrm.ModuleActionsBuilderProvider.prototype = { $C_0: null, create: function (navigationNodes) { for (var $v_0 = [], $v_1 = 0; $v_1 < navigationNodes.length; $v_1++) { var $v_2 = navigationNodes[$v_1]; $v_0[$v_1] = new Mscrm.ModuleActionButtonBuilder($v_2.Id, $v_2.Caption, $v_2.ImageUrl, Mscrm.BuilderHelper.createEventHandler(this.$C_0, $v_2)) } return $v_0 } }; Mscrm.ScrollableContainerBuilder = function (id) { Mscrm.ScrollableContainerBuilder.initializeBase(this, [id]) }; Mscrm.ScrollableContainerBuilder.prototype = { get_containerHtml: function () { return '<div id="{0}" class="nav-scrl-cont">' } }; Mscrm.ScrollButtonBuilder = function (id, clickEventHandler, rightToLeft) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); this.$1_0 = id; this.$2_0 = clickEventHandler; this.$o_0 = rightToLeft }; Mscrm.ScrollButtonBuilder.prototype = { $1_0: null, $2_0: null, $o_0: false, get_rightToLeft: function () { return this.$o_0 }, build: function () { var $v_0 = $P_CRM(String.format(this.get_containerHtml(), this.$1_0)), $v_1 = Mscrm.BuilderHelper.fromHtmlBindClick(this.get_buttonHtml(), this.$2_0); $v_0.append($v_1); return $v_0 } }; Mscrm.ScrollLeftButtonBuilder = function (id, clickEventHandler, rightToLeft) { Mscrm.ScrollLeftButtonBuilder.initializeBase(this, [id, clickEventHandler, rightToLeft]) }; Mscrm.ScrollLeftButtonBuilder.prototype = { get_containerHtml: function () { return '<div id="{0}" class="nav-scrl-left-lnk">' }, get_buttonHtml: function () { return String.format('<a id="leftNavLink" href="#"><span class="leftNavLinkImg"><img src="{0}" unselectable="on"></span></a>', this.$o_0 ? Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavGalleryArrowRight.png", "/Images/HighContrast/NavGalleryArrowRight.png") : Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavGalleryArrowLeft.png", "/Images/HighContrast/NavGalleryArrowLeft.png")) } }; Mscrm.ScrollRightButtonBuilder = function (id, clickEventHandler, rightToLeft) { Mscrm.ScrollRightButtonBuilder.initializeBase(this, [id, clickEventHandler, rightToLeft]) }; Mscrm.ScrollRightButtonBuilder.prototype = { get_containerHtml: function () { return '<div id="{0}" class="nav-scrl-right-lnk">' }, get_buttonHtml: function () { return String.format('<a id="rightNavLink" href="#"><span class="rightNavLinkImg"><img src="{0}" unselectable="on"></span></a>', this.$o_0 ? Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavGalleryArrowLeft.png", "/Images/HighContrast/NavGalleryArrowLeft.png") : Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavGalleryArrowRight.png", "/Images/HighContrast/NavGalleryArrowRight.png")) } }; Mscrm.SmallActionsBuilderProvider = function (createNodeClickedHandler) { if (IsNull(createNodeClickedHandler)) throw Error.argumentNull("createNodeClickedHandler"); this.$C_0 = createNodeClickedHandler }; Mscrm.SmallActionsBuilderProvider.prototype = { $C_0: null, create: function (navigationNodes) { for (var $v_0 = [], $v_1 = 0; $v_1 < navigationNodes.length; $v_1++) { var $v_2 = navigationNodes[$v_1], $v_3 = Mscrm.BuilderHelper.isImageFlippedForNavigationNodeType($v_2); $v_0[$v_1] = new Mscrm.ActionButtonSmallBuilder($v_2.Id, $v_2.Caption, $v_2.ImageUrl, $v_3, $v_2.ColorAccent, Mscrm.BuilderHelper.createEventHandler(this.$C_0, $v_2)) } if (!$v_0.length) $v_0[0] = new Mscrm.EmptyActionBuilder; return $v_0 } }; Mscrm.SplitActionsBuilderProvider = function (createNodeClickedHandler, createNodeDropDownClickedHandler) { if (IsNull(createNodeClickedHandler)) throw Error.argumentNull("createNodeClickedHandler"); if (IsNull(createNodeDropDownClickedHandler)) throw Error.argumentNull("createNodeDropDownClickedHandler"); this.$C_0 = createNodeClickedHandler; this.$O_0 = createNodeDropDownClickedHandler }; Mscrm.SplitActionsBuilderProvider.prototype = { $C_0: null, $O_0: null, create: function (navigationNodes) { for (var $v_0 = [], $v_1 = 0; $v_1 < navigationNodes.length; $v_1++) { var $v_2 = navigationNodes[$v_1], $v_3 = Mscrm.BuilderHelper.isImageFlippedForNavigationNodeType($v_2); if (Mscrm.NavBar.$1z($v_2)) $v_0[$v_1] = new Mscrm.ActionButtonColoredSplitBuilder($v_2.Id, $v_2.Caption, $v_2.Caption, $v_2.ImageUrl, $v_3, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/ArrowUnderScoreDown.png", "/Images/HighContrast/ArrowUnderScoreDown.png"), $v_2.ColorAccent, Mscrm.BuilderHelper.createEventHandler(this.$C_0, $v_2), Mscrm.BuilderHelper.createEventHandler(this.$O_0, $v_2)); else $v_0[$v_1] = new Mscrm.ActionButtonBuilder($v_2.Id, $v_2.Caption, $v_2.ImageUrl, $v_2.ColorAccent, Mscrm.BuilderHelper.createEventHandler(this.$C_0, $v_2)) } return $v_0 } }; Mscrm.TabButtonBuilder = function (id, caption, clickEventHandler, hoverEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); this.$1_0 = id; this.$8_0 = caption; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabButtonBuilder.prototype = { $2_0: null, $0_0: null, $1_0: null, $8_0: null, build: function () { var $v_0 = "navTabButtonArrowDown"; if (window.IS_SANDBOX_ORG) $v_0 += " navTabButtonImageSandbox"; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}{1}" class="navTabButton" title="{2}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonLabel" unselectable="on"><span id="navTabModuleButtonTextId" class="navTabButtonText navTabModuleButton">{4}</span></span><span class="navTabButtonImageContainer" unselectable="on"><img class="navTabButtonArrowDown" alt="" unselectable="on" src="{3}"/></span></a></span>', "Tab", CrmEncodeDecode.CrmHtmlAttributeEncode(this.$1_0), CrmEncodeDecode.CrmHtmlAttributeEncode(this.$8_0), Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif"), CrmEncodeDecode.CrmHtmlEncode(this.$8_0)), this.$2_0, this.$0_0, true); return $v_1 } }; Mscrm.TabButtonHelpBuilder = function (buttonId, buttonTitle, imagePath, clickEventHandler, hoverEventHandler) { this.$1a_0 = buttonId; this.$1b_0 = buttonTitle; this.$1f_0 = imagePath; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabButtonHelpBuilder.prototype = { $1a_0: null, $1f_0: null, $1b_0: null, $2_0: null, $0_0: null, build: function () { var $v_0 = "navTabHelpImage"; if (window.IS_SANDBOX_ORG) $v_0 += " navTabButtonImageSandbox"; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span class="navTabButton navTabButtonHelp" id="{0}" title="{1}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonImageContainer" unselectable="on"><img alt="{1}" class="{2}" id="navTabButtonHelpImageId" unselectable="on" src="{3}" {4} /></span></a></span>', this.$1a_0, this.$1b_0, $v_0, this.$1f_0, Mscrm.BuilderHelper.getFlipImageHtmlCode(true, true)), this.$2_0, this.$0_0, false); return $v_1 } }; Mscrm.TabButtonSettingsBuilder = function (settingsNode, imagePath, clickEventHandler, hoverEventHandler) { if (IsNull(settingsNode)) throw Error.argumentNull("settingsNode"); if (isNullOrEmptyString(imagePath)) throw Error.argumentNull("imagePath"); if (IsNull(clickEventHandler)) throw Error.argumentNull("clickEventHandler"); if (IsNull(hoverEventHandler)) throw Error.argumentNull("hoverEventHandler"); this.$1a_0 = settingsNode.Id; this.$1b_0 = settingsNode.Caption; this.$1f_0 = imagePath; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabButtonSettingsBuilder.prototype = { $1a_0: null, $1b_0: null, $1f_0: null, $2_0: null, $0_0: null, build: function () { var $v_0 = '"navBarSettingsId"'; if (window.IS_SANDBOX_ORG) $v_0 += ' class="navTabButtonImageSandbox"'; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}" title="{1}" class="navTabButton navTabButtonSettings"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonImageContainer" unselectable="on"><img alt="{1}" id={2} unselectable="on" src="{3}"/></span></a></span>', this.$1a_0, this.$1b_0, $v_0, this.$1f_0), this.$2_0, this.$0_0, false); return $v_1 } }; Mscrm.TabButtonSplitBuilder = function (id, leftCaption, rightCaption, leftClickEventHandler, rightClickEventHandler, hoverEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(rightCaption)) throw Error.argumentNull("rightCaption"); if (isNullOrEmptyString(leftCaption)) throw Error.argumentNull("leftCaption"); this.$1_0 = id; this.$1h_0 = leftCaption; this.$1k_0 = rightCaption; this.$1i_0 = leftClickEventHandler; this.$1l_0 = rightClickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabButtonSplitBuilder.prototype = { $1_0: null, $1h_0: null, $1k_0: null, $1i_0: null, $1l_0: null, $0_0: null, build: function () { var $v_0 = ""; if (Mscrm.CrmBrowser.get_currentBrowser().get_isIE8()) $v_0 = " navTabButtonLeftIE8Fix"; var $v_1 = "navTabButtonArrowDown"; if (window.IS_SANDBOX_ORG) $v_1 += " navTabButtonImageSandbox"; var $v_2 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}{1}-main" class="navTabButton navTabButtonLeft{4}" title="{2}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonLabel" unselectable="on"><span class="navTabButtonText {3}">{2}</span></span></a></span>', "Tab", this.$1_0, this.$1h_0, "navTabSplitButtonTextCss", $v_0), this.$1i_0, this.$0_0, false), $v_3 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}{1}" class="navTabButton navTabButtonRight" title="{2}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonImageContainer" unselectable="on"><img src="{3}" alt="|" class="navTabSplitter"></span><span class="navTabButtonImageContainer" unselectable="on"><img class="{4}" alt="" unselectable="on" src="{5}"/></span></a></span>', "Tab", this.$1_0, this.$1k_0, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/Images/NavBarSplit.png", "/Images/HighContrast/NavBarSplit.png"), $v_1, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif")), this.$1l_0, this.$0_0, true), $v_4 = String.format('<span class="navBarTopLevelItem{0}" unselectable="on"></span>', Mscrm.CrmBrowser.get_currentBrowser().get_isIE8() ? " navBarTopLevelItemIE8Fix" : ""), $v_5 = $P_CRM($v_4); $v_5.append($v_2); $v_5.append($v_3); return $v_5 } }; Mscrm.TabFillerBuilder = function (hoverEventHandler) { this.$0_0 = hoverEventHandler }; Mscrm.TabFillerBuilder.prototype = { $0_0: null, build: function () { var $v_0 = '<div class="navTabFiller"></div>'; if (window.IS_SANDBOX_ORG) $v_0 = '<div class="navTabFiller sandboxWatermark" title="' + CrmEncodeDecode.CrmHtmlAttributeEncode(Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_TOOLTIP_SANDBOX_NAVBAR")) + '">' + CrmEncodeDecode.CrmHtmlEncode(Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_CAPTION_SANDBOX_NAVBAR")) + "</div>"; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover($v_0, null, this.$0_0, false); return $v_1 } }; Mscrm.TabButtonUserInfoBuilder = function (userInfoNode, userName, organizationFriendlyName, organizationUniqueName, userProfileImageUrl, clickEventHandler, hoverEventHandler) { if (IsNull(userInfoNode)) throw Error.argumentNull("userInfoNode"); if (isNullOrEmptyString(userName)) throw Error.argumentNull("userName"); if (isNullOrEmptyString(organizationFriendlyName)) throw Error.argumentNull("organizationFriendlyName"); if (isNullOrEmptyString(organizationUniqueName)) throw Error.argumentNull("organizationUniqueName"); if (isNullOrEmptyString(userProfileImageUrl)) throw Error.argumentNull("userProfileImageUrl"); if (IsNull(clickEventHandler)) throw Error.argumentNull("clickEventHandler"); if (IsNull(hoverEventHandler)) throw Error.argumentNull("hoverEventHandler"); this.$2o_0 = userInfoNode.Id; this.$3D_0 = userName; this.$h_0 = organizationFriendlyName; this.$i_0 = organizationUniqueName; if (userProfileImageUrl.indexOf("/Images/EmptyUserImage.png") !== -1) this.$2O_0 = Mscrm.CrmUri.create(userProfileImageUrl).toString(); else this.$2O_0 = Mscrm.CrmUri.createForOrganization(userProfileImageUrl, this.$i_0).toString(); this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabButtonUserInfoBuilder.prototype = { $2o_0: null, $3D_0: null, $h_0: null, $i_0: null, $2O_0: null, $2_0: null, $0_0: null, build: function () { var $v_0 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}" class="navTabButton navTabButtonUserInfo"><a id="navTabButtonUserInfoLinkId" class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span id="navBarUserInfoTextId" class="navTabButtonLabel" unselectable="on"><span class="navTabButtonUserInfoText navTabButtonUserInfoWorker" title="{1}">{1}</span><span class="navTabButtonUserInfoText navTabButtonUserInfoCompany" title="{2}">{2}</span></span><span class="navTabButtonImageContainer" unselectable="on"><img alt="" unselectable="on" src="{3}" class="navTabButtonUserInfoProfileImage"/></span></a></span>', this.$2o_0, this.$3D_0, this.$h_0, this.$2O_0), this.$2_0, this.$0_0, false); !window.IS_LIVE && $v_0.addClass("navTabDisableHover"); return $v_0 } }; Mscrm.TabGroupBuilder = function (tabButtonBuildersLeft, centerButtonBuilder, tabButtonBuildersRight) { if (IsNull(tabButtonBuildersLeft)) throw Error.argumentNull("tabButtonBuildersLeft"); if (!tabButtonBuildersLeft.length) throw Error.argument("tabButtonBuilders"); if (IsNull(centerButtonBuilder)) throw Error.argumentNull("centerButtonBuildersLeft"); this.$2e_0 = centerButtonBuilder; this.$2N_0 = tabButtonBuildersLeft; if (tabButtonBuildersRight) this.$1Q_0 = tabButtonBuildersRight }; Mscrm.TabGroupBuilder.prototype = { $2N_0: null, $1Q_0: null, $2e_0: null, build: function () { for (var $v_0 = $P_CRM('<div id="navTabGroupDiv" class="navTabGroup" />'), $v_1 = 0; $v_1 < this.$2N_0.length; $v_1++) $v_0.append(this.$2N_0[$v_1].build()); if (this.$1Q_0 && this.$1Q_0.length > 0) { for (var $v_2 = $P_CRM('<div class="navFloatRight" />'), $v_3 = 0; $v_3 < this.$1Q_0.length; $v_3++) $v_2.append(this.$1Q_0[$v_3].build()); $v_0.append($v_2) } $v_0.append(this.$2e_0.build()); return $v_0 } }; Mscrm.TabLogoButtonBuilder = function (id, caption, image, clickEventHandler, hoverEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); if (isNullOrEmptyString(image)) throw Error.argumentNull("image"); this.$1_0 = id; this.$8_0 = caption; this.$Q_0 = image; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabLogoButtonBuilder.prototype = { $2_0: null, $0_0: null, $1_0: null, $8_0: null, $Q_0: null, build: function () { var $v_0 = "navTabButtonArrowDown", $v_1 = '"navTabLogoImage"'; if (window.IS_SANDBOX_ORG) { $v_0 += " navTabButtonImageSandbox"; $v_1 += ' class="navTabButtonImageSandbox"' } var $v_2 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}{1}" class="navTabButton navTabButtonModuleSwitcher" title="{2}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navCrmLogo"><span class="navTabButtonImageContainer navTabButtonLeftImageContainer" unselectable="on"><img id={3} alt="" unselectable="on" src="{4}"/></span><span id="navTabLogoTextId" class="navTabLogoText" >&nbsp;&nbsp;<img src="/images/NavBarLogo2.png" height="23px" width="80px" unselectable="on"></span></span><span class="navTabButtonImageContainer" unselectable="on"><img alt="" class="{5}" unselectable="on" src="{6}"/></span></a></span>', "Tab", this.$1_0, this.$8_0, $v_1, this.$Q_0, $v_0, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif")), this.$2_0, this.$0_0, true); return $v_2 } }; Mscrm.TabLogoImageBuilder = function (id, caption, image, hoverEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); if (isNullOrEmptyString(image)) throw Error.argumentNull("image"); this.$1_0 = id; this.$8_0 = caption; this.$Q_0 = image; this.$0_0 = hoverEventHandler }; Mscrm.TabLogoImageBuilder.prototype = { $1_0: null, $8_0: null, $Q_0: null, $0_0: null, build: function () { var $v_0 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}{1}" class="navTabButton navTabButtonModuleSwitcher navTabCrmLogoOutlook navTabDisableHover" title="{2}"><span class="navCrmLogo"><span class="navTabButtonImageContainer navTabButtonLeftImageContainer" unselectable="on"><img unselectable="on" src="{3}"/></span><span id="navTabLogoTextId" class="navTabButtonLink navTabLogoText">Microsoft Dynamics CRM</span></span></span>', "Tab", this.$1_0, this.$8_0, this.$Q_0), null, this.$0_0, false); return $v_0 } }; Mscrm.TabQuickCreateSpacerBuilder = function (hoverEventHandler) { this.$0_0 = hoverEventHandler }; Mscrm.TabQuickCreateSpacerBuilder.prototype = { $0_0: null, build: function () { var $v_0 = Mscrm.BuilderHelper.fromHtmlBindClickHover('<span id="navTabQuickCreateSpacer" class="navTabQuickCreateSpacer"></span>', null, this.$0_0, false); return $v_0 } }; Mscrm.TabTextButtonBuilder = function (id, caption, clickEventHandler, hoverEventHandler) { if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); if (isNullOrEmptyString(caption)) throw Error.argumentNull("caption"); this.$1_0 = id; this.$8_0 = caption; this.$2_0 = clickEventHandler; this.$0_0 = hoverEventHandler }; Mscrm.TabTextButtonBuilder.prototype = { $1_0: null, $8_0: null, $2_0: null, $0_0: null, build: function () { var $v_0 = ""; if (Mscrm.CrmBrowser.get_currentBrowser().get_isIE8()) $v_0 = " navTabButtonLeftIE8Fix"; var $v_1 = Mscrm.BuilderHelper.fromHtmlBindClickHover(String.format('<span id="{0}{1}-main" class="navTabButton{3}" title="{2}"><a class="navTabButtonLink" onkeypress="return true;" onclick="return false;" href="javascript:;" unselectable="on"><span class="navTabButtonLabel" unselectable="on"><span class="navTabButtonText">{2}</span></span></a></span>', "Tab", this.$1_0, this.$8_0, $v_0), this.$2_0, this.$0_0, false), $v_2 = String.format('<span class="navBarTopLevelItem{0}" unselectable="on"></span>', Mscrm.CrmBrowser.get_currentBrowser().get_isIE8() ? " navBarTopLevelItemIE8Fix" : ""), $v_3 = $P_CRM($v_2); $v_3.append($v_1); return $v_3 } }; Mscrm.ViewportContainerBuilder = function (id) { Mscrm.ViewportContainerBuilder.initializeBase(this, [id]) }; Mscrm.ViewportContainerBuilder.prototype = { get_containerHtml: function () { return '<div id="{0}" class="nav-scrl-view">' } }; Mscrm.ActionGroupControl = function (id, flyOutControlFactory) { Mscrm.ActionGroupControl.initializeBase(this, [id, flyOutControlFactory]); this.$1_2 = id }; Mscrm.ActionGroupControl.prototype = { $1_2: null, $2C_2: null, scrollableContentProvider: function (navigationNodes) { var $v_0 = this.$u_0.create(navigationNodes), $v_1 = new Mscrm.ActionGroupBuilder(this.$1_2, $v_0), $v_2 = $v_1.build(); return $v_2 }, unselectNodes: function () { $P_CRM(".navActionButton.selected").removeClass("selected"); $P_CRM(".navActionButtonContainer.selected").removeClass("selected"); Mscrm.NavigationNodesBasedControl.prototype.unselectNodes.call(this) }, selectNode: function (node) { this.unselectNodes(); $P_CRM("#" + node.Id + "-drop.navActionButton").addClass("selected"); $P_CRM("#" + node.Id + ".navActionButton").parents(".navActionButtonContainer").addClass("selected"); Mscrm.NavigationNodesBasedControl.prototype.selectNode.call(this, node); !IsNull(this.$2C_2) && this.$2C_2(node) }, setNodeSelectedEventHandler: function (handler) { this.$2C_2 = handler } }; Mscrm.ActionListControl = function (id, flyOutControlFactory) { Mscrm.ActionListControl.initializeBase(this, [id, flyOutControlFactory]); this.$1_2 = id }; Mscrm.ActionListControl.prototype = { $1_2: null, scrollableContentProvider: function (navigationNodes) { var $v_0 = this.$u_0.create(navigationNodes), $v_1 = new Mscrm.ActionGroupBuilder(this.$1_2, $v_0), $v_2 = $v_1.build(); return $v_2 }, unselectNodes: function () { Mscrm.NavigationNodesBasedControl.prototype.unselectNodes.call(this); $P_CRM(".nav-rowBody.selected").removeClass("selected") }, selectNode: function (node) { this.unselectNodes(); Mscrm.NavigationNodesBasedControl.prototype.selectNode.call(this, node); $P_CRM("#" + node.Id + ".nav-rowBody").addClass("selected") } }; Mscrm.ControlContainer = function () { this.$D_0 = new Sys.EventHandlerList }; Mscrm.ControlContainer.prototype = { add_shown: function (value) { this.$D_0.addHandler("Shown", value) }, remove_shown: function (value) { this.$D_0.removeHandler("Shown", value) }, add_hidden: function (value) { this.$D_0.addHandler("Hidden", value) }, remove_hidden: function (value) { this.$D_0.removeHandler("Hidden", value) }, add_showing: function (value) { this.$D_0.addHandler("Showing", value) }, remove_showing: function (value) { this.$D_0.removeHandler("Showing", value) }, add_hiding: function (value) { this.$D_0.addHandler("Hiding", value) }, remove_hiding: function (value) { this.$D_0.removeHandler("Hiding", value) }, onContainerShowing: function () { this.$l_0("Showing") }, onContainerHiding: function () { this.$l_0("Hiding") }, onContainerShown: function () { this.$l_0("Shown") }, onContainerHidden: function () { this.$l_0("Hidden") }, $l_0: function ($p0) { var $v_0 = this.$D_0.getHandler($p0); $v_0 && $v_0(this, Sys.EventArgs.Empty) }, show: function () { this.onContainerShowing(); this.onContainerShown() }, hide: function () { this.onContainerHiding(); this.onContainerHidden() }, setContent: function (content) { }, dispose: function () { } }; Mscrm.ControlIdProvider = function () { }; Mscrm.ControlIdProvider.prototype = { scrollableContainerId: null, viewportContainerId: null, scrollLeftButtonId: null, scrollRightButtonId: null }; Mscrm.DomBasedControlContainer = function (controlContainerId) { Mscrm.DomBasedControlContainer.initializeBase(this); if (isNullOrEmptyString(controlContainerId)) throw Error.argumentNull("controlContainerId"); this.$2i_1 = controlContainerId }; Mscrm.DomBasedControlContainer.prototype = { $2i_1: null, $v_1: null, $1g_1: false, setContent: function (content) { this.$v_1 && this.$v_1.remove(); this.$v_1 = content; $P_CRM("#" + this.$2i_1).append(content) }, $47_1: function () { this.$v_1.find("*").andSelf().unbind().die() }, dispose: function () { if (this.$1g_1) return; if (this.$v_1) { this.$47_1(); this.$v_1.remove(); this.$v_1 = null } Mscrm.ControlContainer.prototype.dispose.call(this); this.$1g_1 = true } }; Mscrm.DropDownMenuControl = function (flyOutControlFactory, navigationNodeHandlerProvider) { Mscrm.DropDownMenuControl.initializeBase(this, [flyOutControlFactory]); if (IsNull(navigationNodeHandlerProvider)) throw Error.argumentNull("navigationNodeHandlerProvider"); this.$2u_1 = navigationNodeHandlerProvider }; Mscrm.DropDownMenuControl.prototype = { $2u_1: null, $X_1: null, get_menuEntries: function () { return this.$X_1 }, set_menuEntries: function (value) { this.$X_1 = value; return value }, $y_1: null, get_fullMenu: function () { return this.$y_1 }, set_fullMenu: function (value) { this.$y_1 = value; return value }, attachEventHandler: function (node, classSelector) { var $v_0 = Mscrm.BuilderHelper.createEventHandler(this.$2u_1, node), $v_1 = $P_CRM("#" + classSelector, this.$y_1); Mscrm.BuilderHelper.attachEventhandlerToObject($v_1, $v_0) }, findNavigationNode: function (nodeId) { return Mscrm.BuilderHelper.findNavigationNode(this.$X_1, nodeId) } }; Mscrm.DropDownMenuControlSettings = function (flyOutControlFactory, navigationNodeHandlerProvider) { Mscrm.DropDownMenuControlSettings.initializeBase(this, [flyOutControlFactory, navigationNodeHandlerProvider]); this.$2D_2 = "navTabButtonSettingsOptionsId"; this.$2F_2 = "navTabButtonSettingsPrintPreviewId"; this.$2B_2 = "navTabButtonSettingsNavTourId"; this.$22_2 = "navTabButtonSettingsAboutId"; this.$2G_2 = "NodeSettingsPrivacyStatementId" }; Mscrm.DropDownMenuControlSettings.prototype = { $U_2: '<span id="navTabButtonSettingsDropDownId" class="navDropDownMenu navDropDownMenuSettings">{0}</span>', $2x_2: null, $2z_2: null, $2w_2: null, $2b_2: null, $30_2: null, $2D_2: null, $2F_2: null, $2B_2: null, $22_2: null, $2G_2: null, getContent: function (navigationNodes) { var $v_0 = navigationNodes[0]; this.$X_1 = $v_0.Children; var $v_1 = true; if (!IsNull($v_0.Action) && Mscrm.NavBarSharedConstants.printPreviewAvailable in $v_0.Action && !IsNull($v_0.Action[Mscrm.NavBarSharedConstants.printPreviewAvailable])) $v_1 = $v_0.Action[Mscrm.NavBarSharedConstants.printPreviewAvailable]; this.$2x_2 = Mscrm.BuilderHelper.fetchCaptionForNodeId(this.$X_1, this.$2D_2); this.$2z_2 = Mscrm.BuilderHelper.fetchCaptionForNodeId(this.$X_1, this.$2F_2); this.$2w_2 = Mscrm.BuilderHelper.fetchCaptionForNodeId(this.$X_1, this.$2B_2); this.$2b_2 = Mscrm.BuilderHelper.fetchCaptionForNodeId(this.$X_1, this.$22_2); this.$30_2 = Mscrm.BuilderHelper.fetchCaptionForNodeId(this.$X_1, this.$2G_2); var $v_2 = String.format('<a id="navTabButtonSettingsOptionsId" title="{0}" href="javascript:;">{0}</a>', this.$2x_2); if ($v_1) $v_2 += String.format('<a id="navTabButtonSettingsPrintPreviewId" title="{0}" href="javascript:;">{0}</a>', this.$2z_2); $v_2 += String.format('<a id="navTabButtonSettingsNavTourId" title="{0}" href="javascript:;">{0}</a>', this.$2w_2); $v_2 += String.format('<a id="navTabButtonSettingsAboutId" title="{0}" href="javascript:;">{0}</a>', this.$2b_2); $v_2 += String.format('<a id="NodeSettingsPrivacyStatementId" title="{0}" href="javascript:;">{0}</a>', this.$30_2); this.$y_1 = $P_CRM(String.format(this.$U_2, $v_2)); this.attachEventHandler(this.findNavigationNode("navTabButtonSettingsOptionsId"), this.$2D_2); $v_1 && this.attachEventHandler(this.findNavigationNode("navTabButtonSettingsPrintPreviewId"), this.$2F_2); this.attachEventHandler(this.findNavigationNode("navTabButtonSettingsNavTourId"), this.$2B_2); this.attachEventHandler(this.findNavigationNode("navTabButtonSettingsAboutId"), this.$22_2); this.attachEventHandler(this.findNavigationNode("NodeSettingsPrivacyStatementId"), this.$2G_2); return this.$y_1 } }; Mscrm.DropDownMenuControlUserInfo = function (flyOutControlFactory, navigationNodeHandlerProvider) { Mscrm.DropDownMenuControlUserInfo.initializeBase(this, [flyOutControlFactory, navigationNodeHandlerProvider]) }; Mscrm.DropDownMenuControlUserInfo.prototype = { $U_2: '<span id="navTabButtonUserInfoDropDownId" class="navDropDownMenu navDropDownMenuUserInfo">{0}</span>', $1r_2: null, $3A_2: null, getContent: function (navigationNodes) { var $v_0 = navigationNodes[0]; this.$X_1 = $v_0.Children; this.$1r_2 = "navTabButtonUserInfoSignOutId"; this.$3A_2 = Mscrm.BuilderHelper.fetchCaptionForNodeId(this.$X_1, this.$1r_2); var $v_1 = String.format('<a id="{0}" title="{1}" href="javascript:;">{1}</a>', this.$1r_2, this.$3A_2); this.$y_1 = $P_CRM(String.format(this.$U_2, $v_1)); this.attachEventHandler($v_0.Children[0], this.$1r_2); return this.$y_1 } }; Mscrm.FlyOutControlContainer = function (rootElementId, flyOutStyleClass, animationHandler, dismissHandler, showHandler) { this.$$d_$4s_1 = Function.createDelegate(this, this.$4s_1); this.$$d_$4t_1 = Function.createDelegate(this, this.$4t_1); this.$$d_$4n_1 = Function.createDelegate(this, this.$4n_1); Mscrm.FlyOutControlContainer.initializeBase(this); if (isNullOrEmptyString(rootElementId)) throw Error.argumentNull("rootElementId"); if (isNullOrEmptyString(flyOutStyleClass)) throw Error.argumentNull("flyoutStyleClass"); if (IsNull(animationHandler)) throw Error.argumentNull("animationHandler"); this.$R_1 = rootElementId; this.$2k_1 = flyOutStyleClass; this.$1Z_1 = animationHandler; this.$26_1 = !dismissHandler ? false : true; this.$e_1 = dismissHandler; this.$2K_1 = !showHandler ? false : true; this.$1q_1 = showHandler }; Mscrm.FlyOutControlContainer.prototype = { $R_1: null, $2k_1: null, $1Z_1: null, $1L_1: false, $1g_1: false, $E_1: null, $m_1: null, $14_1: null, $e_1: null, $26_1: false, $1q_1: null, $2K_1: false, setContent: function (content) { this.$14_1 = content }, $4n_1: function ($p0) { $p0.preventDefault(); $p0.stopPropagation() }, $4t_1: function ($p0) { var $v_0 = $P_CRM("#" + this.$R_1).children().last(); if ($v_0.length > 0) if ($p0.pageY >= $v_0.position().top + $v_0.height()) if (IsNull(this.$e_1)) this.hide(); else this.$e_1($p0) }, $4s_1: function ($p0) { var $v_0 = $P_CRM("#" + this.$R_1).children().last(); if ($v_0.length > 0) if ($p0.pageY <= $v_0.position().top + $v_0.height()) !IsNull(this.$e_1) && this.$1q_1($p0) }, show: function () { this.$1L_1 && this.$2R_1(); this.onContainerShowing(); var $v_0 = String.format('<div class="{0}"></div>', this.$2k_1), $v_1 = $P_CRM("#" + this.$R_1); this.$E_1 = $P_CRM($v_0); this.$E_1.hide(); this.$m_1 = $P_CRM(this.$14_1); this.$E_1.append(this.$m_1); $v_1.append(this.$E_1); this.$E_1.unbind("click", this.$$d_$4n_1); this.$E_1.bind("click", this.$$d_$4n_1); if (this.$26_1) { this.$E_1.unbind("mouseout", this.$$d_$4t_1); this.$E_1.bind("mouseout", this.$$d_$4t_1) } if (this.$2K_1) { this.$E_1.unbind("mouseenter", this.$$d_$4s_1); this.$E_1.bind("mouseenter", this.$$d_$4s_1) } if (this.$1L_1) { this.$m_1.hide(); this.$E_1.show(); Mscrm.Utilities.addControlMarker(this.$R_1, "NavBarFlyout", "StartSwitchContentAnimationTimestamp", (new Date).getTime().toString()); var $$t_2 = this; this.$1Z_1.switchContentAnimation(this.$m_1, function () { $$t_2.onContainerShown(); Mscrm.Utilities.addControlMarker($$t_2.$R_1, "NavBarFlyout", "FinishSwitchContentAnimationTimestamp", (new Date).getTime().toString()) }) } else { Mscrm.Utilities.addControlMarker(this.$R_1, "NavBarFlyout", "StartShowAnimationTimestamp", (new Date).getTime().toString()); var $$t_3 = this; this.$1Z_1.showAnimation(this.$E_1, function () { $$t_3.onContainerShown(); Mscrm.Utilities.addControlMarker($$t_3.$R_1, "NavBarFlyout", "FinishShowAnimationTimestamp", (new Date).getTime().toString()) }); this.$1L_1 = true } }, hide: function () { if (!this.$1L_1) { this.onContainerHiding(); this.onContainerHidden(); return } this.onContainerHiding(); this.$E_1.unbind("click", this.$$d_$4n_1); this.$26_1 && this.$E_1.unbind("mouseout", this.$$d_$4t_1); this.$2K_1 && this.$E_1.unbind("mouseenter", this.$$d_$4s_1); Mscrm.Utilities.addControlMarker(this.$R_1, "NavBarFlyout", "StartCloseAnimationTimestamp", (new Date).getTime().toString()); var $$t_0 = this; this.$1Z_1.closeAnimation(this.$E_1, function () { $$t_0.onContainerHidden(); $$t_0.$1L_1 = false; Mscrm.Utilities.addControlMarker($$t_0.$R_1, "NavBarFlyout", "FinishCloseAnimationTimestamp", (new Date).getTime().toString()); $$t_0.$2R_1() }) }, $2R_1: function () { if (this.$m_1) { this.$m_1.find("*").andSelf().unbind().die(); this.$m_1.remove(); this.$m_1 = null } if (this.$E_1) { this.$E_1.find("*").andSelf().unbind().die(); this.$E_1.remove(); this.$E_1 = null } }, dispose: function () { if (this.$1g_1) return; if (this.$14_1) { this.$14_1.find("*").andSelf().unbind().die(); this.$14_1.remove(); this.$14_1 = null } this.$2R_1(); this.$1g_1 = true } }; Mscrm.FlyoutControlContainerFactory = function (rootElementId, flyOutStyleClass, animationHandler, dismissHandler, showHandler) { if (isNullOrEmptyString(rootElementId)) throw Error.argumentNull("rootElementId"); if (isNullOrEmptyString(flyOutStyleClass)) throw Error.argumentNull("flyoutStyleClass"); if (IsNull(animationHandler)) throw Error.argumentNull("animationHandler"); this.$R_0 = rootElementId; this.$2l_0 = flyOutStyleClass; this.$2g_0 = animationHandler; this.$e_0 = dismissHandler; this.$1q_0 = showHandler }; Mscrm.FlyoutControlContainerFactory.prototype = { $R_0: null, $2l_0: null, $2g_0: null, $e_0: null, $1q_0: null, createControlContainer: function () { return new Mscrm.FlyOutControlContainer(this.$R_0, this.$2l_0, this.$2g_0, this.$e_0, this.$1q_0) } }; Mscrm.NavigationNodesBasedControl = function (containerControlFactory) { this.$$d_$3u_0 = Function.createDelegate(this, this.$3u_0); this.$$d_$3t_0 = Function.createDelegate(this, this.$3t_0); this.$$d_$3r_0 = Function.createDelegate(this, this.$3r_0); this.$$d_$3s_0 = Function.createDelegate(this, this.$3s_0); if (IsNull(containerControlFactory)) throw Error.argumentNull("containerControlFactory"); this.$D_0 = new Sys.EventHandlerList; this.$2h_0 = containerControlFactory }; Mscrm.NavigationNodesBasedControl.prototype = { $2h_0: null, $7_0: null, $g_0: false, $1O_0: null, $13_0: null, $19_0: null, $u_0: null, $D_0: null, get_contentProvider: function () { return this.$u_0 }, set_contentProvider: function (value) { this.$u_0 = value; return value }, add_shown: function (value) { this.$D_0.addHandler("Shown", value) }, remove_shown: function (value) { this.$D_0.removeHandler("Shown", value) }, add_hidden: function (value) { this.$D_0.addHandler("Hidden", value) }, remove_hidden: function (value) { this.$D_0.removeHandler("Hidden", value) }, add_showing: function (value) { this.$D_0.addHandler("Showing", value) }, remove_showing: function (value) { this.$D_0.removeHandler("Showing", value) }, add_hiding: function (value) { this.$D_0.addHandler("Hiding", value) }, remove_hiding: function (value) { this.$D_0.removeHandler("Hiding", value) }, unselectNodes: function () { this.$19_0 = null }, selectNode: function (node) { this.$19_0 = node.Id }, getSelectedNode: function () { return this.$19_0 }, render: function (navigationNodes) { if (IsNull(navigationNodes)) throw Error.argumentNull("navigationNodes"); this.$g_0 && this.clear(); this.$l_0("Showing"); this.$1O_0 = new Mscrm.ExecutionCompletedNotifier; var $v_0 = this.$1O_0; this.$7_0 = this.$2h_0.createControlContainer(); this.$7_0.add_hiding(this.$$d_$3s_0); this.$7_0.add_hidden(this.$$d_$3r_0); this.$7_0.add_showing(this.$$d_$3t_0); this.$7_0.add_shown(this.$$d_$3u_0); var $v_1 = this.getContent(navigationNodes); this.$7_0.setContent($v_1); this.$7_0.show(); this.$g_0 = true; return $v_0 }, hide: function () { if (this.$13_0) return null; if (!this.$g_0) return null; this.$13_0 = new Mscrm.ExecutionCompletedNotifier; var $v_0 = this.$13_0; this.$7_0.hide(); return $v_0 }, $3t_0: function ($p0, $p1) { this.$l_0("Showing") }, $3u_0: function ($p0, $p1) { if (!IsNull(this.$1O_0)) { this.$1O_0.NotifyCompleted(); this.$1O_0 = null } this.$l_0("Shown") }, $3s_0: function ($p0, $p1) { this.$l_0("Hiding") }, $3r_0: function ($p0, $p1) { if (!IsNull(this.$13_0)) { this.$13_0.NotifyCompleted(); this.$13_0 = null } this.clear(); this.$l_0("Hidden") }, $l_0: function ($p0) { var $v_0 = this.$D_0.getHandler($p0); $v_0 && $v_0(this, Sys.EventArgs.Empty) }, clear: function () { if (!this.$g_0) return; if (this.$7_0) { this.$7_0.remove_hiding(this.$$d_$3s_0); this.$7_0.remove_hidden(this.$$d_$3r_0); this.$7_0.remove_showing(this.$$d_$3t_0); this.$7_0.remove_shown(this.$$d_$3u_0); this.$7_0.dispose(); this.$7_0 = null } this.$g_0 = false } }; Mscrm.ScrollableControl = function (id, containerControlFactory) { this.$$d_$3h_1 = Function.createDelegate(this, this.$3h_1); this.$$d_$3w_1 = Function.createDelegate(this, this.$3w_1); this.$$d_$4y_1 = Function.createDelegate(this, this.$4y_1); this.$$d_$4x_1 = Function.createDelegate(this, this.$4x_1); this.$$d_$2Z_1 = Function.createDelegate(this, this.$2Z_1); Mscrm.ScrollableControl.initializeBase(this, [containerControlFactory]); if (isNullOrEmptyString(id)) throw Error.argumentNull("id"); this.$L_1 = new Mscrm.ControlIdProvider; this.$L_1.scrollableContainerId = String.format("{0}_scrollableContainer", id); this.$L_1.viewportContainerId = String.format("{0}_viewport", id); this.$L_1.scrollLeftButtonId = String.format("{0}_leftNavContainer", id); this.$L_1.scrollRightButtonId = String.format("{0}_rightNavContainer", id); this.$2J_1 = new Mscrm.ScrollInputHandler(id); this.$35_1 = String.format("#{0}", this.$L_1.scrollLeftButtonId); this.$37_1 = String.format("#{0}", this.$L_1.scrollRightButtonId); var $v_0 = this.$4q_1(); this.$1I_1 = new Mscrm.ScrollableContentDescriptor(String.format("#{0} .{1}", id, "nav-group")); this.$12_1 = new Mscrm.ScrollableContainerDescriptor(this.$L_1.scrollableContainerId, this.$L_1.viewportContainerId, $v_0); var $v_1 = new Mscrm.AnimatedMarginScroller(this.$L_1.viewportContainerId, $v_0); $v_1.setScrollingFinishedEventHandler(this.$$d_$2Z_1); var $v_2 = new Mscrm.AnimatedMarginScroller(this.$L_1.viewportContainerId, $v_0); $v_2.setScrollingFinishedEventHandler(this.$$d_$2Z_1); this.$1m_1 = new Mscrm.ScrollByPageScrollingStrategy(this.$1I_1, this.$12_1, $v_1); this.$38_1 = new Mscrm.ScrollToPageWithProvidedItemScrollingStrategy(this.$1I_1, this.$12_1, $v_2); this.$2H_1 = new Mscrm.ScrollInFlyOutContentDecorator(this.$L_1, this.$$d_$4x_1, this.$$d_$4y_1, $v_0) }; Mscrm.ScrollableControl.prototype = { $L_1: null, $2J_1: null, $35_1: null, $37_1: null, $1I_1: null, $12_1: null, $2H_1: null, $38_1: null, $1m_1: null, $4y_1: function ($p0) { this.$1m_1.scrollBy(1) }, $4x_1: function ($p0) { this.$1m_1.scrollBy(-1) }, $2Z_1: function () { var $v_0 = $P_CRM(this.$35_1), $v_1 = $P_CRM(this.$37_1); if (this.$3o_1()) $v_0.show(); else $v_0.hide(); if (this.$3p_1()) $v_1.show(); else $v_1.hide() }, $3p_1: function () { var $v_0 = this.$12_1.getCurrentViewportMargin(), $v_1 = this.$1I_1.getTotalContentWidth(), $v_2 = this.$12_1.getContainerWidth(); return !(-$v_0 >= $v_1 - $v_2) }, $3o_1: function () { var $v_0 = this.$12_1.getCurrentViewportMargin(); return $v_0 < 0 }, $4z_1: function () { var $v_0 = this.$1I_1.getScrollableElementIndex(this.getSelectedNode()); $v_0 >= 0 && this.$38_1.scrollBy($v_0) }, getContent: function (navigationNodes) { var $v_0 = this.scrollableContentProvider(navigationNodes), $v_1 = this.$2H_1.decorateContent($v_0); return $v_1 }, render: function (navigationNodes) { var $v_0 = Mscrm.NavigationNodesBasedControl.prototype.render.call(this, navigationNodes); $v_0.QueueUntilNotified(this.$$d_$3w_1); return $v_0 }, hide: function () { $P_CRM(window).unbind("resize", this.$$d_$3h_1); this.$2J_1.detachScrollEventHandlers(); var $v_0 = Mscrm.NavigationNodesBasedControl.prototype.hide.call(this); return $v_0 }, $3h_1: function ($p0) { $P_CRM("#" + this.$L_1.scrollableContainerId).width(this.$2H_1.calculateScrollableContainerWidth()); this.$2Z_1() }, $3w_1: function ($p0) { this.$4z_1(); var $$t_2 = this; this.$2J_1.attachScrollEventHandlers(function ($p1_0) { $$t_2.$1m_1.scrollBy($p1_0) }); this.$2Z_1(); $P_CRM(window).bind("resize", this.$$d_$3h_1) }, $4q_1: function () { var $v_0 = false; $v_0 = window.LOCID_UI_DIR === "RTL"; return $v_0 } }; Mscrm.TabControl = function (tabControlContainerId, createNodeClickedHandler, createNodeDropDownClickedHandler, hoverEventHandler) { this.$$d_$3q_0 = Function.createDelegate(this, this.$3q_0); this.$$d_$3v_0 = Function.createDelegate(this, this.$3v_0); if (isNullOrEmptyString(tabControlContainerId)) throw Error.argumentNull("tabControlContainerId"); this.$0_0 = hoverEventHandler; this.$3B_0 = tabControlContainerId; this.$3C_0 = "#" + tabControlContainerId; this.$C_0 = createNodeClickedHandler; this.$O_0 = createNodeDropDownClickedHandler }; Mscrm.TabControl.prototype = { $7_0: null, $3C_0: null, $3B_0: null, $19_0: null, $g_0: false, $C_0: null, get_createNodeClickedHandler: function () { return this.$C_0 }, $O_0: null, get_createNodeDropDownClickedHandler: function () { return this.$O_0 }, $Z_0: null, $P_0: null, $t_0: null, $M_0: null, $I_0: null, $z_0: null, $k_0: null, $1A_0: null, $W_0: null, $T_0: null, $w_0: null, $h_0: null, $i_0: null, $n_0: null, $0_0: null, get_hoverEventHandler: function () { return this.$0_0 }, $11_0: null, get_rootNode: function () { return this.$Z_0 }, set_rootNode: function (value) { this.$Z_0 = value; return value }, get_homeNode: function () { return this.$P_0 }, set_homeNode: function (value) { this.$P_0 = value; return value }, get_areaNode: function () { return this.$t_0 }, set_areaNode: function (value) { this.$t_0 = value; return value }, get_subareaNode: function () { return this.$M_0 }, set_subareaNode: function (value) { this.$M_0 = value; return value }, get_recordNode: function () { return this.$I_0 }, set_recordNode: function (value) { this.$I_0 = value; return value }, get_globalQuickCreateNode: function () { return this.$z_0 }, set_globalQuickCreateNode: function (value) { this.$z_0 = value; return value }, get_userInfoNode: function () { return this.$k_0 }, set_userInfoNode: function (value) { this.$k_0 = value; return value }, get_settingsNode: function () { return this.$1A_0 }, set_settingsNode: function (value) { this.$1A_0 = value; return value }, get_helpNode: function () { return this.$W_0 }, set_helpNode: function (value) { this.$W_0 = value; return value }, get_backNode: function () { return this.$T_0 }, set_backNode: function (value) { this.$T_0 = value; return value }, get_currentUserName: function () { return this.$w_0 }, set_currentUserName: function (value) { this.$w_0 = value; return value }, get_organizationFriendlyName: function () { return this.$h_0 }, set_organizationFriendlyName: function (value) { this.$h_0 = value; return value }, get_organizationUniqueName: function () { return this.$i_0 }, set_organizationUniqueName: function (value) { this.$i_0 = value; return value }, get_currentUserProfileImageUrl: function () { return this.$n_0 }, set_currentUserProfileImageUrl: function (value) { this.$n_0 = value; return value }, $43_0: function () { var $v_0 = this.createLeftSideBuilders(), $v_1 = this.createRightSideBuilders(), $v_2 = new Mscrm.TabGroupBuilder($v_0, new Mscrm.TabFillerBuilder(this.$0_0), $v_1); return $v_2.build() }, createLeftSideBuilders: function () { var $v_0 = [], $v_1 = 0; if (this.$Z_0) $v_0[$v_1++] = new Mscrm.TabLogoButtonBuilder(this.$Z_0.Id, this.$Z_0.Caption, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif"), Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$Z_0), this.$0_0); if (this.$P_0) $v_0[$v_1++] = new Mscrm.HomeButtonBuilder(this.$P_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$P_0), this.$0_0); if (this.$t_0) { $v_0[$v_1++] = new Mscrm.TabButtonBuilder(this.$t_0.Id, this.$t_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$t_0), this.$0_0); if (this.$M_0) if (Mscrm.NavBar.$1z(this.$M_0)) $v_0[$v_1++] = new Mscrm.TabButtonSplitBuilder(this.$M_0.Id, this.$M_0.Caption, this.$M_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$M_0), Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$M_0), this.$0_0); else $v_0[$v_1++] = new Mscrm.TabTextButtonBuilder(this.$M_0.Id, this.$M_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$M_0), this.$0_0) } if (this.$I_0) $v_0[$v_1++] = this.recordNodeBuilder(); return $v_0 }, recordNodeBuilder: function () { if (!this.$I_0) return null; if (this.$I_0.Children && this.$I_0.Children.length > 0) return new Mscrm.TabButtonSplitBuilder(this.$I_0.Id, this.$I_0.Caption, this.$I_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$I_0), Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$I_0), this.$0_0); return new Mscrm.TabTextButtonBuilder(this.$I_0.Id, this.$I_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$I_0), this.$0_0) }, createRightSideBuilders: function () { var $v_0 = [], $v_1 = 0; if (this.$z_0) { $v_0[$v_1++] = new Mscrm.GlobalQuickCreateButtonBuilder(this.$z_0.Id, this.$z_0.Caption, Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$z_0), this.$0_0); $v_0[$v_1++] = new Mscrm.TabQuickCreateSpacerBuilder(this.$0_0) } if (this.$k_0) $v_0[$v_1++] = new Mscrm.TabButtonUserInfoBuilder(this.$k_0, this.$w_0, this.$h_0, this.$i_0, this.$n_0, Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$k_0), this.$0_0); if (this.$1A_0) $v_0[$v_1++] = new Mscrm.TabButtonSettingsBuilder(this.$1A_0, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif"), Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$1A_0), this.$0_0); if (this.$W_0) $v_0[$v_1++] = new Mscrm.TabButtonHelpBuilder(this.$W_0.Id, this.$W_0.Caption, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif"), Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$W_0), this.$0_0); return $v_0 }, unselectNodes: function () { $P_CRM("#navTabGroupDiv .selected", $P_CRM(this.$3C_0)).removeClass("selected"); this.$19_0 = null }, selectNode: function (node) { this.unselectNodes(); var $v_0 = node.Id; if (node.Id.substr(0, 3) !== "Tab") $v_0 = "Tab" + $v_0; $P_CRM("#" + $v_0).addClass("selected"); this.$19_0 = node.Id }, getSelectedNode: function () { return this.$19_0 }, render: function () { this.$g_0 && this.clear(); this.$7_0 = new Mscrm.DomBasedControlContainer(this.$3B_0); this.$7_0.add_shown(this.$$d_$3v_0); this.$7_0.add_hidden(this.$$d_$3q_0); var $v_0 = new Mscrm.ExecutionCompletedNotifier; this.$11_0 = $v_0; var $v_1 = this.$43_0(), $v_2 = new Mscrm.Resizer($v_1); $v_2.showHideElements(); this.$7_0.setContent($v_1); this.$7_0.show(); this.$g_0 = true; return $v_0 }, $3v_0: function ($p0, $p1) { if (!IsNull(this.$11_0)) { this.$11_0.NotifyCompleted(); this.$11_0 = null } }, $3q_0: function ($p0, $p1) { if (!IsNull(this.$11_0)) { this.$11_0.NotifyCompleted(); this.$11_0 = null } }, clear: function () { if (!this.$g_0) return; if (this.$7_0) { this.$7_0.remove_shown(this.$$d_$3v_0); this.$7_0.remove_hidden(this.$$d_$3q_0); this.$7_0.dispose(); this.$7_0 = null } this.$g_0 = false } }; Mscrm.TabControlOutlook = function (tabControlContainerId, createNodeClickedHandler, createNodeDropDownClickedHandler, hoverEventHandler) { Mscrm.TabControlOutlook.initializeBase(this, [tabControlContainerId, createNodeClickedHandler, createNodeDropDownClickedHandler, hoverEventHandler]) }; Mscrm.TabControlOutlook.prototype = { createLeftSideBuilders: function () { var $v_0 = [], $v_1 = 0; if (this.$Z_0) $v_0[$v_1++] = new Mscrm.TabLogoImageBuilder(this.$Z_0.Id, this.$Z_0.Caption, "/Images/NavBarLog.png", this.$0_0); if (this.$T_0) $v_0[$v_1++] = new Mscrm.BackButtonBuilder(this.$T_0, Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$T_0)); if (this.$I_0) $v_0[$v_1++] = this.recordNodeBuilder(); return $v_0 }, createRightSideBuilders: function () { var $v_0 = [], $v_1 = 0; if (this.$k_0) $v_0[$v_1++] = new Mscrm.TabButtonUserInfoBuilder(this.$k_0, this.$w_0, this.$h_0, this.$i_0, this.$n_0, Mscrm.BuilderHelper.createEventHandler(this.$O_0, this.$k_0), this.$0_0); if (this.$W_0) $v_0[$v_1++] = new Mscrm.TabButtonHelpBuilder(this.$W_0.Id, this.$W_0.Caption, Mscrm.BuilderHelper.selectImageBasedOnContrastMode("/_imgs/NavBar/Invisible.gif", "/_imgs/NavBar/Invisible.gif"), Mscrm.BuilderHelper.createEventHandler(this.$C_0, this.$W_0), this.$0_0); return $v_0 } }; Mscrm.JQueryContainerAnimation = function () { }; Mscrm.JQueryContainerAnimation.prototype = { switchContentAnimation: function (animatedObject, animationCompletedAction) { animatedObject.fadeIn(400, animationCompletedAction) }, showAnimation: function (animatedObject, animationCompletedAction) { animatedObject.slideDown(250, animationCompletedAction) }, closeAnimation: function (animatedObject, animationCompletedAction) { animatedObject.fadeOut(400, animationCompletedAction) } }; Mscrm.AnimatedMarginScroller = function (viewportContainerId, rightToLeft) { if (isNullOrEmptyString(viewportContainerId)) throw Error.argumentNull("viewportContainerId"); this.$1u_0 = String.format("#{0}", viewportContainerId); this.$23_0 = {}; this.$o_0 = rightToLeft }; Mscrm.AnimatedMarginScroller.prototype = { $1u_0: null, $2I_0: null, $24_0: false, $23_0: null, $o_0: false, scroll: function (value) { if (this.$24_0) return; this.$24_0 = true; var $v_0 = $P_CRM(this.$1u_0); this.$23_0[this.$o_0 ? "margin-right" : "margin-left"] = value; var $$t_2 = this; $v_0.animate(this.$23_0, 400, "swing", function () { $$t_2.$24_0 = false; !IsNull($$t_2.$2I_0) && $$t_2.$2I_0() }) }, setScrollingFinishedEventHandler: function (handler) { this.$2I_0 = handler } }; Mscrm.ScrollableContainerDescriptor = function (scrollableContainerId, viewportContainerId, rightToLeft) { if (isNullOrEmptyString(scrollableContainerId)) throw Error.argumentNull("scrollableContainerId"); if (isNullOrEmptyString(viewportContainerId)) throw Error.argumentNull("viewportContainerId"); this.$33_0 = String.format("#{0}", scrollableContainerId); this.$1u_0 = String.format("#{0}", viewportContainerId); this.$o_0 = rightToLeft }; Mscrm.ScrollableContainerDescriptor.prototype = { $33_0: null, $1u_0: null, $o_0: false, getContainerWidth: function () { return $P_CRM(this.$33_0).outerWidth() }, getCurrentViewportMargin: function () { var $v_0 = $P_CRM(this.$1u_0).css(this.$o_0 ? "margin-right" : "margin-left"); if (isNullOrEmptyString($v_0) || $v_0 === "auto") return 0; return parseInt($v_0) }, getPageOffsets: function (elementWidths) { for (var $v_0 = [], $v_1 = 0, $v_2 = 0, $v_3 = 0, $v_4 = 0; $v_4 < elementWidths.length; $v_4++) { if ($v_2 + elementWidths[$v_4] >= this.getContainerWidth()) { $v_0[$v_3++] = $v_1; $v_1 = $v_1 + $v_2; $v_2 = 0 } $v_2 += elementWidths[$v_4] } $v_0[$v_3] = $v_1; return $v_0 } }; Mscrm.ScrollableContentDescriptor = function (scrollableElementSelector) { if (isNullOrEmptyString(scrollableElementSelector)) throw Error.argumentNull("scrollableElementSelector"); this.$1P_0 = scrollableElementSelector }; Mscrm.ScrollableContentDescriptor.prototype = { $1P_0: null, getScrollableElementIndex: function (selectedElementId) { if (isNullOrEmptyString(selectedElementId)) return -1; for (var $v_0 = "#" + selectedElementId, $v_1 = $P_CRM(this.$1P_0), $v_2 = 0; $v_2 < $v_1.length; $v_2++) if ($P_CRM($v_0, $v_1[$v_2]).length > 0) return $v_2; return -1 }, getTotalContentWidth: function () { var $v_0 = 0; $(this.$1P_0).each(function () { $v_0 += $(this).outerWidth(true) }); return $v_0 }, getElementWidths: function () { var $v_0 = []; $(this.$1P_0).each(function () { $v_0.push($(this).outerWidth(true)) }); return $v_0 }, getElementOffset: function (index) { return $P_CRM(this.$1P_0).get(index).offsetLeft } }; Mscrm.ScrollByPageScrollingStrategy = function (contentDescriptor, containerDescriptor, scroller) { Mscrm.ScrollByPageScrollingStrategy.initializeBase(this, [contentDescriptor, containerDescriptor, scroller]) }; Mscrm.ScrollByPageScrollingStrategy.prototype = { scrollBy: function (offset) { if (!offset) return; var $v_0 = this._contentDescriptor.getTotalContentWidth(), $v_1 = -this._containerDescriptor.getCurrentViewportMargin(), $v_2, $v_3 = this._contentDescriptor.getElementWidths(), $v_4 = this._containerDescriptor.getPageOffsets($v_3), $v_5 = this.getPageWithElement($v_4, $v_1); if (offset > 0) { $v_2 = $v_4[Math.min($v_5 + 1, $v_4.length - 1)]; if ($v_2 >= $v_0) return; var $v_6 = $v_3[$v_3.length - 1]; if ($v_2 > $v_0 - $v_6) $v_2 = $v_0 - $v_6 } else { if ($v_1 <= 0) return; $v_2 = $v_4[Math.max($v_5 - 1, 0)]; if ($v_2 < 0) $v_2 = 0 } $v_2 !== $v_1 && this._scroller.scroll(-$v_2) } }; Mscrm.ScrollInFlyOutContentDecorator = function (controlIdProvider, scrollLeftButtonClickHandler, scrollRightButtonClickHandler, rightToLeft) { if (IsNull(controlIdProvider)) throw Error.argumentNull("controlIdProvider"); if (isNullOrEmptyString(controlIdProvider.scrollableContainerId)) throw Error.argumentNull("scrollLeftButtonClickHandler.ScrollableContainerId"); if (isNullOrEmptyString(controlIdProvider.viewportContainerId)) throw Error.argumentNull("scrollLeftButtonClickHandler.ViewportContainerId"); if (isNullOrEmptyString(controlIdProvider.scrollLeftButtonId)) throw Error.argumentNull("scrollLeftButtonClickHandler.ScrollLeftButtonId"); if (isNullOrEmptyString(controlIdProvider.scrollRightButtonId)) throw Error.argumentNull("scrollLeftButtonClickHandler.ScrollRightButtonId"); this.$34_0 = new Mscrm.ScrollLeftButtonBuilder(controlIdProvider.scrollLeftButtonId, scrollLeftButtonClickHandler, rightToLeft); this.$36_0 = new Mscrm.ScrollRightButtonBuilder(controlIdProvider.scrollRightButtonId, scrollRightButtonClickHandler, rightToLeft); this.$32_0 = new Mscrm.ScrollableContainerBuilder(controlIdProvider.scrollableContainerId); this.$3E_0 = new Mscrm.ViewportContainerBuilder(controlIdProvider.viewportContainerId) }; Mscrm.ScrollInFlyOutContentDecorator.prototype = { $34_0: null, $36_0: null, $32_0: null, $3E_0: null, decorateContent: function (content) { if (IsNull(content)) throw Error.argumentNull("content"); var $v_0 = this.calculateScrollableContainerWidth(), $v_1 = this.$34_0.build(), $v_2 = this.$36_0.build(), $v_3 = this.$32_0.build(), $v_4 = this.$3E_0.build(); $v_1.hide(); $v_2.hide(); $v_3.width($v_0); $v_4.append(content); $v_3.append($v_4); var $v_5 = $P_CRM('<div class="nav-scrl">'); $v_5.append($v_1); $v_5.append($v_2); $v_5.append($v_3); return $v_5 }, calculateScrollableContainerWidth: function () { var $v_0 = $P_CRM(window).width(), $v_1 = 24; return $v_0 - 2 * $v_1 } }; Mscrm.ScrollingStrategy = function (contentDescriptor, containerDescriptor, scroller) { if (IsNull(contentDescriptor)) throw Error.argumentNull("contentDescriptor"); if (IsNull(containerDescriptor)) throw Error.argumentNull("containerDescriptor"); if (IsNull(scroller)) throw Error.argumentNull("scroller"); this._contentDescriptor = contentDescriptor; this._containerDescriptor = containerDescriptor; this._scroller = scroller }; Mscrm.ScrollingStrategy.prototype = { _contentDescriptor: null, _containerDescriptor: null, _scroller: null, getPageWithElement: function (pageOffsets, elementOffset) { for (var $v_0 = 0; $v_0 < pageOffsets.length - 1; $v_0++) if (pageOffsets[$v_0] <= elementOffset && elementOffset < pageOffsets[$v_0 + 1]) return $v_0; return pageOffsets.length - 1 } }; Mscrm.ScrollToPageWithProvidedItemScrollingStrategy = function (contentDescriptor, containerDescriptor, scroller) { Mscrm.ScrollToPageWithProvidedItemScrollingStrategy.initializeBase(this, [contentDescriptor, containerDescriptor, scroller]) }; Mscrm.ScrollToPageWithProvidedItemScrollingStrategy.prototype = { scrollBy: function (offset) { if (!offset) return; var $v_0 = this._contentDescriptor.getTotalContentWidth(), $v_1 = this._contentDescriptor.getElementWidths(), $v_2 = this._containerDescriptor.getPageOffsets($v_1), $v_3 = this._contentDescriptor.getElementOffset(offset), $v_4 = this.getPageWithElement($v_2, $v_3), $v_5 = $v_2[$v_4], $v_6 = $v_1[$v_1.length - 1]; if ($v_5 < $v_0) { if ($v_5 > $v_0 - $v_6) $v_5 = $v_0 - $v_6; -$v_5 !== this._containerDescriptor.getCurrentViewportMargin() && this._scroller.scroll(-$v_5) } } }; Mscrm.NavStatusBarAnimationStrategy = function () { }; Mscrm.NavStatusBarAnimationStrategy.prototype = { showAnimation: function (animatedObject, animationCompletedAction) { if (IsNull(animatedObject)) throw Error.argumentNull("animatedObject"); animatedObject.fadeIn("fast", animationCompletedAction) }, hideAnimation: function (animatedObject, animationCompletedAction) { if (IsNull(animatedObject)) throw Error.argumentNull("animatedObject"); animatedObject.slideUp("fast", animationCompletedAction) } }; Mscrm.NavStatus = function (notificationAreaElementId, animationStrategy) { if (isNullOrEmptyString(notificationAreaElementId)) throw Error.argumentNull("notificationAreaElementId"); if (IsNull(animationStrategy)) throw Error.argumentNull("animationStrategy"); this.$U_0 = $P_CRM(notificationAreaElementId); if (IsNull(this.$U_0) || this.$U_0.length !== 1) throw Error.argument("notificationAreaElementId"); this.$1H_0 = animationStrategy }; Mscrm.NavStatus.prototype = { $1H_0: null, $U_0: null, showInfoMessage: function (message, captions, actions, sticky) { if (!isNullOrEmptyString(message)) { var $v_0 = new Mscrm.NavStatusBar(this.$U_0, this.$1H_0, message, captions, actions); $v_0.show(sticky) } } }; Mscrm.NavStatusBar = function (container, animationStrategy, message, captions, actions) { this.$$d_$4T_0 = Function.createDelegate(this, this.$4T_0); this.$$d_$3S_0 = Function.createDelegate(this, this.$3S_0); if (IsNull(container)) throw Error.argumentNull("container"); if (IsNull(animationStrategy)) throw Error.argumentNull("animationStrategy"); if (IsNull(message)) throw Error.argumentNull("message"); this.$U_0 = container; this.$1H_0 = animationStrategy; this.$2r_0 = message; this.$1c_0 = captions; this.$1G_0 = actions }; Mscrm.NavStatusBar.prototype = { $d_0: null, $U_0: null, $1H_0: null, $1R_0: 0, $2r_0: null, $1c_0: null, $1G_0: null, show: function (sticky) { this.$d_0 = this.$3z_0(); this.$d_0.hide(); this.$U_0.append(this.$d_0); this.$3j_0(); this.$1H_0.showAnimation(this.$d_0, null); if (!sticky) { var $$t_1 = this; this.$1R_0 = window.setTimeout(function () { $$t_1.$1R_0 = 0; $$t_1.$3S_0(null) }, 1e4) } }, $3z_0: function () { var $v_0 = $P_CRM('<table class="navStatusBar navStatusInfo"><tr></tr></table>'), $v_1 = $P_CRM("tr", $v_0); $v_1.append($P_CRM('<td><img src="/Images/StatusSucceeded.png" width=16 height=16 alt="Information" class="navStatusIcon"></td>')); $v_1.append($P_CRM(String.format('<td><span class="navStatusText">{0}</span></td>', this.$2r_0))); if (!IsNull(this.$1G_0) && !IsNull(this.$1c_0) && this.$1G_0.length === this.$1c_0.length) for (var $v_2 = 0; $v_2 < this.$1G_0.length; $v_2++) { var $v_3 = this.$1c_0[$v_2], $v_4 = $P_CRM(String.format('<a title="{0}" role="button" href="javascript:;" class="navStatusAdditionalButton crmAppMessageBarButton"><span class="ms-crm-msgbar_button_cold">{0}</span></a>', $v_3)); $v_4.data("index", $v_2); $v_1.append($P_CRM('<td class="crmAppMessageBarButtonContainer"></td>').append($v_4)) } $v_1.append($P_CRM(String.format('<td><a title="{0}" role="button" href="javascript:;" class="navStatusClose"><img src="/Images/StatusClose.png" width=16 height=16 alt="{0}"></a></td>', window.LOCID_CLOSE_QUICKFORM_TOOLTIP))); return $v_0 }, $3S_0: function ($p0) { if (this.$1R_0) { window.clearTimeout(this.$1R_0); this.$1R_0 = 0 } this.$46_0(); var $$t_1 = this; this.$1H_0.hideAnimation(this.$d_0, function () { $$t_1.$d_0.remove(); $$t_1.$d_0 = null }) }, $3j_0: function () { this.$3L_0().bind("click", this.$$d_$3S_0); var $v_0 = this.$3K_0(); $v_0.bind("click", this.$$d_$3S_0); $v_0.bind("click", this.$$d_$4T_0) }, $46_0: function () { this.$3L_0().unbind("click", this.$$d_$3S_0); var $v_0 = this.$3K_0(); $v_0.unbind("click", this.$$d_$3S_0); $v_0.unbind("click", this.$$d_$4T_0) }, $3L_0: function () { return $P_CRM("a.navStatusClose", this.$d_0) }, $3K_0: function () { return $P_CRM("a.navStatusAdditionalButton", this.$d_0) }, $4T_0: function ($p0) { var $v_0 = $P_CRM($p0.currentTarget), $v_1 = $v_0.data()["index"]; this.$1G_0[$v_1].execute() } }; Mscrm.BlockInputHandler.registerClass("Mscrm.BlockInputHandler"); Mscrm.NavBarConstants.registerClass("Mscrm.NavBarConstants"); Mscrm.ExecutionCompletedNotifier.registerClass("Mscrm.ExecutionCompletedNotifier"); Mscrm.ModalOverlayDecorator.registerClass("Mscrm.ModalOverlayDecorator"); Mscrm.ScrollInputHandler.registerClass("Mscrm.ScrollInputHandler"); Mscrm.NavBar.registerClass("Mscrm.NavBar", Mscrm.CrmUIControl, Mscrm.INavigationStructureProvider); Mscrm.NavigationTree.registerClass("Mscrm.NavigationTree"); Mscrm.Resizer.registerClass("Mscrm.Resizer"); Mscrm.GlobalQuickCreateAction.registerClass("Mscrm.GlobalQuickCreateAction", null, Mscrm.INavigateAction); Mscrm.GlobalQuickCreateActionProvider.registerClass("Mscrm.GlobalQuickCreateActionProvider", null, Mscrm.INavigateActionProvider); Mscrm.NavBarGlobalQuickCreateCallbacks.registerClass("Mscrm.NavBarGlobalQuickCreateCallbacks", Mscrm.GlobalQuickCreate.GlobalQuickCreateCallbacks); Mscrm.NavigateToPageAction.registerClass("Mscrm.NavigateToPageAction", null, Mscrm.INavigateAction); Mscrm.NavigateToPageActionProvider.registerClass("Mscrm.NavigateToPageActionProvider", null, Mscrm.INavigateActionProvider); Mscrm.NavigationNodeActionFactory.registerClass("Mscrm.NavigationNodeActionFactory"); Mscrm.RecordSiteMapAction.registerClass("Mscrm.RecordSiteMapAction", null, Mscrm.INavigateAction); Mscrm.MruActionProvider.registerClass("Mscrm.MruActionProvider", null, Mscrm.INavigateActionProvider); Mscrm.MruAction.registerClass("Mscrm.MruAction", null, Mscrm.INavigateAction); Mscrm.RecordSiteMapActionProvider.registerClass("Mscrm.RecordSiteMapActionProvider", null, Mscrm.INavigateActionProvider); Mscrm.TestNavigateAction.registerClass("Mscrm.TestNavigateAction", null, Mscrm.INavigateAction); Mscrm.TestNavigateActionProvider.registerClass("Mscrm.TestNavigateActionProvider", null, Mscrm.INavigateActionProvider); Mscrm.ViewEntityAction.registerClass("Mscrm.ViewEntityAction", null, Mscrm.INavigateAction); Mscrm.ActionButtonBuilder.registerClass("Mscrm.ActionButtonBuilder", null, Mscrm.IBuilder); Mscrm.ActionButtonColoredSplitBuilder.registerClass("Mscrm.ActionButtonColoredSplitBuilder", null, Mscrm.IBuilder); Mscrm.ActionButtonContainerBuilder.registerClass("Mscrm.ActionButtonContainerBuilder", null, Mscrm.IBuilder); Mscrm.ActionButtonNarrowBuilder.registerClass("Mscrm.ActionButtonNarrowBuilder", null, Mscrm.IBuilder); Mscrm.ActionButtonSmallBuilder.registerClass("Mscrm.ActionButtonSmallBuilder", null, Mscrm.IBuilder); Mscrm.ActionGroupBuilder.registerClass("Mscrm.ActionGroupBuilder", null, Mscrm.IBuilder); Mscrm.ActionListGroupBuilder.registerClass("Mscrm.ActionListGroupBuilder", null, Mscrm.IBuilder); Mscrm.ActionsBuilderProvider.registerClass("Mscrm.ActionsBuilderProvider", null, Mscrm.IBuilderProvider); Mscrm.BackButtonBuilder.registerClass("Mscrm.BackButtonBuilder", null, Mscrm.IBuilder); Mscrm.BuilderHelper.registerClass("Mscrm.BuilderHelper"); Mscrm.ContainerBuilder.registerClass("Mscrm.ContainerBuilder", null, Mscrm.IBuilder); Mscrm.EmptyActionBuilder.registerClass("Mscrm.EmptyActionBuilder", null, Mscrm.IBuilder); Mscrm.GlobalQuickCreateButtonBuilder.registerClass("Mscrm.GlobalQuickCreateButtonBuilder", null, Mscrm.IBuilder); Mscrm.GroupedActionsBuilderProvider.registerClass("Mscrm.GroupedActionsBuilderProvider", null, Mscrm.IBuilderProvider); Mscrm.HeaderGroupBuilderProvider.registerClass("Mscrm.HeaderGroupBuilderProvider", null, Mscrm.IBuilderProvider); Mscrm.HomeButtonBuilder.registerClass("Mscrm.HomeButtonBuilder", null, Mscrm.IBuilder); Mscrm.ModuleActionButtonBuilder.registerClass("Mscrm.ModuleActionButtonBuilder", null, Mscrm.IBuilder); Mscrm.ModuleActionsBuilderProvider.registerClass("Mscrm.ModuleActionsBuilderProvider", null, Mscrm.IBuilderProvider); Mscrm.ScrollableContainerBuilder.registerClass("Mscrm.ScrollableContainerBuilder", Mscrm.ContainerBuilder); Mscrm.ScrollButtonBuilder.registerClass("Mscrm.ScrollButtonBuilder", null, Mscrm.IBuilder); Mscrm.ScrollLeftButtonBuilder.registerClass("Mscrm.ScrollLeftButtonBuilder", Mscrm.ScrollButtonBuilder); Mscrm.ScrollRightButtonBuilder.registerClass("Mscrm.ScrollRightButtonBuilder", Mscrm.ScrollButtonBuilder); Mscrm.SmallActionsBuilderProvider.registerClass("Mscrm.SmallActionsBuilderProvider", null, Mscrm.IBuilderProvider); Mscrm.SplitActionsBuilderProvider.registerClass("Mscrm.SplitActionsBuilderProvider", null, Mscrm.IBuilderProvider); Mscrm.TabButtonBuilder.registerClass("Mscrm.TabButtonBuilder", null, Mscrm.IBuilder); Mscrm.TabButtonHelpBuilder.registerClass("Mscrm.TabButtonHelpBuilder", null, Mscrm.IBuilder); Mscrm.TabButtonSettingsBuilder.registerClass("Mscrm.TabButtonSettingsBuilder", null, Mscrm.IBuilder); Mscrm.TabButtonSplitBuilder.registerClass("Mscrm.TabButtonSplitBuilder", null, Mscrm.IBuilder); Mscrm.TabFillerBuilder.registerClass("Mscrm.TabFillerBuilder", null, Mscrm.IBuilder); Mscrm.TabButtonUserInfoBuilder.registerClass("Mscrm.TabButtonUserInfoBuilder", null, Mscrm.IBuilder); Mscrm.TabGroupBuilder.registerClass("Mscrm.TabGroupBuilder", null, Mscrm.IBuilder); Mscrm.TabLogoButtonBuilder.registerClass("Mscrm.TabLogoButtonBuilder", null, Mscrm.IBuilder); Mscrm.TabLogoImageBuilder.registerClass("Mscrm.TabLogoImageBuilder", null, Mscrm.IBuilder); Mscrm.TabQuickCreateSpacerBuilder.registerClass("Mscrm.TabQuickCreateSpacerBuilder", null, Mscrm.IBuilder); Mscrm.TabTextButtonBuilder.registerClass("Mscrm.TabTextButtonBuilder", null, Mscrm.IBuilder); Mscrm.ViewportContainerBuilder.registerClass("Mscrm.ViewportContainerBuilder", Mscrm.ContainerBuilder); Mscrm.NavigationNodesBasedControl.registerClass("Mscrm.NavigationNodesBasedControl"); Mscrm.ScrollableControl.registerClass("Mscrm.ScrollableControl", Mscrm.NavigationNodesBasedControl); Mscrm.ActionGroupControl.registerClass("Mscrm.ActionGroupControl", Mscrm.ScrollableControl); Mscrm.ActionListControl.registerClass("Mscrm.ActionListControl", Mscrm.ScrollableControl); Mscrm.ControlContainer.registerClass("Mscrm.ControlContainer", null, Mscrm.IControlContainer, Sys.IDisposable); Mscrm.ControlIdProvider.registerClass("Mscrm.ControlIdProvider"); Mscrm.DomBasedControlContainer.registerClass("Mscrm.DomBasedControlContainer", Mscrm.ControlContainer); Mscrm.DropDownMenuControl.registerClass("Mscrm.DropDownMenuControl", Mscrm.NavigationNodesBasedControl); Mscrm.DropDownMenuControlSettings.registerClass("Mscrm.DropDownMenuControlSettings", Mscrm.DropDownMenuControl); Mscrm.DropDownMenuControlUserInfo.registerClass("Mscrm.DropDownMenuControlUserInfo", Mscrm.DropDownMenuControl); Mscrm.FlyOutControlContainer.registerClass("Mscrm.FlyOutControlContainer", Mscrm.ControlContainer); Mscrm.FlyoutControlContainerFactory.registerClass("Mscrm.FlyoutControlContainerFactory", null, Mscrm.IControlContainerFactory); Mscrm.TabControl.registerClass("Mscrm.TabControl"); Mscrm.TabControlOutlook.registerClass("Mscrm.TabControlOutlook", Mscrm.TabControl); Mscrm.JQueryContainerAnimation.registerClass("Mscrm.JQueryContainerAnimation", null, Mscrm.IContainerAnimation); Mscrm.AnimatedMarginScroller.registerClass("Mscrm.AnimatedMarginScroller"); Mscrm.ScrollableContainerDescriptor.registerClass("Mscrm.ScrollableContainerDescriptor"); Mscrm.ScrollableContentDescriptor.registerClass("Mscrm.ScrollableContentDescriptor"); Mscrm.ScrollingStrategy.registerClass("Mscrm.ScrollingStrategy"); Mscrm.ScrollByPageScrollingStrategy.registerClass("Mscrm.ScrollByPageScrollingStrategy", Mscrm.ScrollingStrategy); Mscrm.ScrollInFlyOutContentDecorator.registerClass("Mscrm.ScrollInFlyOutContentDecorator"); Mscrm.ScrollToPageWithProvidedItemScrollingStrategy.registerClass("Mscrm.ScrollToPageWithProvidedItemScrollingStrategy", Mscrm.ScrollingStrategy); Mscrm.NavStatusBarAnimationStrategy.registerClass("Mscrm.NavStatusBarAnimationStrategy", null, Mscrm.INavStatusBarAnimationStrategy); Mscrm.NavStatus.registerClass("Mscrm.NavStatus"); Mscrm.NavStatusBar.registerClass("Mscrm.NavStatusBar"); Mscrm.NavBarConstants.indexTabMain = 0; Mscrm.NavBarConstants.indexTabHome = 1; Mscrm.NavBarConstants.indexTabModuleNode = 2; Mscrm.NavBarConstants.indexTabEntityNodeButton = 3; Mscrm.NavBarConstants.indexTabEntityNodeDropDown = 4; Mscrm.NavBarConstants.indexTabRecordNodeButton = 5; Mscrm.NavBarConstants.indexTabRecordNodeDropDown = 6; Mscrm.NavBarConstants.indexTabGlobalQuickCreate = 7; Mscrm.NavBarConstants.indexTabUserInfo = 8; Mscrm.NavBarConstants.indexTabSettings = 9; Mscrm.NavBarConstants.indexTabHelp = 10; Mscrm.NavBarConstants.indexTabBack = 11; Mscrm.NavBarConstants.indexTabSettingsMenuOptions = 12; Mscrm.NavBarConstants.indexTabSettingsMenuPrintPreview = 13; Mscrm.NavBarConstants.indexTabSettingsMenuAbout = 14; Mscrm.NavBarConstants.indexTabUserInfoSignOut = 15; Mscrm.NavBarConstants.indexTabSettingsMenuNavTour = 16; Mscrm.NavBarConstants.indexTabSettingsMenuPrivacyStatement = 17; Mscrm.NavBarConstants.nodeSettingsOptionsId = "navTabButtonSettingsOptionsId"; Mscrm.NavBarConstants.nodeSettingsPrintPreviewId = "navTabButtonSettingsPrintPreviewId"; Mscrm.NavBarConstants.nodeSettingsNavTourId = "navTabButtonSettingsNavTourId"; Mscrm.NavBarConstants.nodeSettingsAboutId = "navTabButtonSettingsAboutId"; Mscrm.NavBarConstants.nodeSettingsPrivacyStatementId = "NodeSettingsPrivacyStatementId"; Mscrm.NavBarConstants.nodeSettingsDropDownId = "navTabButtonSettingsDropDownId"; Mscrm.NavBarConstants.nodeUserInfoSignOutId = "navTabButtonUserInfoSignOutId"; Mscrm.NavBarConstants.nodeUserInfoDropDrownId = "navTabButtonUserInfoDropDownId"; Mscrm.NavBarConstants.navTabHiddenCssClass = "navTabHidden"; Mscrm.NavBarConstants.navTabButtonNarrowText = "navTabButtonNarrowText"; Mscrm.NavBarConstants.transparentImagePath = "/_imgs/NavBar/Invisible.gif"; Mscrm.NavBarConstants.appointmentImagePath = "/Images/ActionImgs/Appointment_32.png"; Mscrm.NavBarConstants.emailImagePath = "/Images/ActionImgs/Email_32.png"; Mscrm.NavBarConstants.faxImagePath = "/Images/ActionImgs/Faxl_32.png"; Mscrm.NavBarConstants.letterImagePath = "/Images/ActionImgs/Letter_32.png"; Mscrm.NavBarConstants.phoneCallImagePath = "/Images/ActionImgs/PhoneCall_32.png"; Mscrm.NavBarConstants.taskImagePath = "/Images/ActionImgs/Task_32.png"; Mscrm.NavBarConstants.arrowDownImagePath = "/Images/ArrowDown.png"; Mscrm.NavBarConstants.arrowDownImagePathHighContrast = "/Images/HighContrast/ArrowDown.png"; Mscrm.NavBarConstants.arrowULDownImagePath = "/Images/ArrowUnderScoreDown.png"; Mscrm.NavBarConstants.arrowULDownImagePathHighContrast = "/Images/HighContrast/ArrowUnderScoreDown.png"; Mscrm.NavBarConstants.logoImagePath = "/Images/NavBarLogo.png"; Mscrm.NavBarConstants.logoImagePathHighContrast = "/Images/HighContrast/NavBarLogo.png"; Mscrm.NavBarConstants.topBarHomeImagePath = "/Images/NavBarHome.png"; Mscrm.NavBarConstants.topBarHomeImagePathHighContrast = "/Images/HighContrast/NavBarHome.png"; Mscrm.NavBarConstants.topBarSplitImagePath = "/Images/NavBarSplit.png"; Mscrm.NavBarConstants.topBarSplitImagePathHighContrast = "/Images/HighContrast/NavBarSplit.png"; Mscrm.NavBarConstants.topBarSettingImagePath = "/Images/NavBarSettings.png"; Mscrm.NavBarConstants.topBarSettingImagePathHighContrast = "/Images/HighContrast/NavBarSettings.png"; Mscrm.NavBarConstants.actionButtonSplitImagePath = "/Images/ActionButtonSplit.png"; Mscrm.NavBarConstants.actionButtonSplitImagePathHighContrast = "/Images/HighContrast/ActionButtonSplit.png"; Mscrm.NavBarConstants.scrollLeftImagePath = "/Images/NavGalleryArrowLeft.png"; Mscrm.NavBarConstants.scrollLeftImagePathHighContrast = "/Images/HighContrast/NavGalleryArrowLeft.png"; Mscrm.NavBarConstants.scrollRightImagePath = "/Images/NavGalleryArrowRight.png"; Mscrm.NavBarConstants.scrollRightImagePathHighContrast = "/Images/HighContrast/NavGalleryArrowRight.png"; Mscrm.NavBarConstants.globalQuickCreateImagePath = "/Images/NavBarGlobalQuickCreate.png"; Mscrm.NavBarConstants.globalQuickCreateImagePathHighContrast = "/Images/HighContrast/NavBarGlobalQuickCreate.png"; Mscrm.NavBarConstants.backActiveButtonImagePath = "/Images/Back_Active.png"; Mscrm.NavBarConstants.backInactiveButtonImagePath = "/Images/Back_Inactive.png"; Mscrm.NavBarConstants.mruEmptyImagePath = "/Images/NavBarWhiteNotification.png"; Mscrm.NavBarConstants.mruEmptyImagePathHighContrast = "/Images/HighContrast/NavBarWhiteNotification.png"; Mscrm.NavBarConstants.actionButtonClassName = "nav-group"; Mscrm.NavBarConstants.homeButtonId = "TabHome"; Mscrm.NavBarConstants.backButtonId = "TabBack"; Mscrm.NavBarConstants.navBarSettingsId = "navBarSettingsId"; Mscrm.NavBarConstants.globalQuickCreateButtonId = "GQC"; Mscrm.NavBarConstants.userInfoButtonGroupId = "TabUserInfoId"; Mscrm.NavBarConstants.settingsButtonId = "TabButtonSettingsId"; Mscrm.NavBarConstants.helpButtonId = "TabButtonHelpId"; Mscrm.NavBarConstants.navTabQuickCreateSpacer = "navTabQuickCreateSpacer"; Mscrm.NavBarConstants.navStatusClose = "navStatusClose"; Mscrm.NavBarConstants.navTabModuleButtonTextId = "navTabModuleButtonTextId"; Mscrm.NavBarConstants.navBarUserInfoTextId = "navBarUserInfoTextId"; Mscrm.NavBarConstants.navTabLogoTextId = "navTabLogoTextId"; Mscrm.NavBarConstants.navTabLogoImage = "navTabLogoImage"; Mscrm.NavBarConstants.tabButtonHelpImageId = "navTabButtonHelpImageId"; Mscrm.NavBarConstants.navBarGlobalQuickCreateTextId = "navBarGlobalQuickCreateTextId"; Mscrm.NavBarConstants.navTabSplitButtonTextCss = "navTabSplitButtonTextCss"; Mscrm.NavBarConstants.navTabButtonLeftIE8Fix = " navTabButtonLeftIE8Fix"; Mscrm.NavBarConstants.navBarTopLevelItemIE8Fix = " navBarTopLevelItemIE8Fix"; Mscrm.NavBarConstants.tabIdPrefix = "Tab"; Mscrm.NavBarConstants.defaultInputDelayAfterAnimation = 200; Mscrm.NavBarConstants.clickEventName = "click"; Mscrm.NavBarConstants.mouseOutEventName = "mouseout"; Mscrm.NavBarConstants.mouseEnterEventName = "mouseenter"; Mscrm.NavBarConstants.helpModuleNavigationNodeId = "HLP"; Mscrm.NavBarConstants.onlinePrivacyStatementUrl = "http://go.microsoft.com/fwlink/?LinkID=310140"; Mscrm.NavBarConstants.onPremisePrivacyStatementUrl = "http://go.microsoft.com/fwlink/?LinkID=310141"; Mscrm.NavBar.$17 = "NavBarClick"; Mscrm.NavBar.$18 = "NavBarClickTime"; Mscrm.EmptyActionBuilder.$1j = Mscrm.BuilderHelper.getResourceStringFromLOCID("LOCID_MRU_EMPTY_NAVBAR"); Mscrm.ControlContainer.shownEventName = "Shown"; Mscrm.ControlContainer.hiddenEventName = "Hidden"; Mscrm.ControlContainer.showingEventName = "Showing"; Mscrm.ControlContainer.hidingEventName = "Hiding"